\ProvidesPackage{ex_test_rd}[2018/06/15 for Ex_test version 2.4.3, Tran Anh Tuan]
\RequirePackage{ifthen}
\RequirePackage{fancyhdr}
\RequirePackage{multicol}
\RequirePackage{answers}
\RequirePackage{array}
\RequirePackage{multirow}
\RequirePackage{longtable}
\RequirePackage[utf8]{vietnam}
\RequirePackage{tikz}
\RequirePackage{ntheorem}
\RequirePackage{calc}
\RequirePackage{picinpar}
\RequirePackage{catchfile,environ}
\RequirePackage{amsmath}
\RequirePackage{etoolbox}
\RequirePackage{filecontents}
\RequirePackage{paralist}
\RequirePackage{tabto}
%Lệnh tagEX gán nhãn công thức thủ công
\newcommand{\tagEX}[1]{%
	\hfill{\rm (#1)}%
	\par
	\@ifnextchar\begin%
	{\vspace{-\baselineskip}}
	{}
}
%Hủy lệnh \dapan
\newcommand{\dapan}{Lệnh này giờ vô dụng}
\newcommand{\TrueEX}{Lệnh này giờ vô dụng với gói trộn đề}
%Cấu trúc lệnh ghi các phương án
\newcounter{dapan}
\newcommand{\FalseEX}{\stepcounter{dapan}{\textbf{\Alph{dapan}.}}}
%\newcommand{\FalseEX}{\stepcounter{dapan}{\circled{\Alph{dapan}}}}%Đáp án khoanh tròn
% \newcommand{\FalseEX}{\stepcounter{dapan}{\textbf{\color{blue}\Alph{dapan}.}}} %Tô màu đáp án
\newlength\widthalpha
\settowidth\widthalpha{\FalseEX}
\newcommand{\begindapan}{%
		\begin{minipage}[t]{\widthalpha}
			\FalseEX
		\end{minipage}
		\begin{minipage}[t]{\dorong}
}
%Hiện Chọn đáp án trong lời giải chi tiết
\def\selectA{\par\noindent Chọn đáp án \circEX{A}}
\def\selectB{\par\noindent Chọn đáp án \circEX{B}}
\def\selectC{\par\noindent Chọn đáp án \circEX{C}}
\def\selectD{\par\noindent Chọn đáp án \circEX{D}}
\def\selectE{\par\noindent Chọn đáp án \circEX{E}}
\newcommand{\hidetextchoice}{
\def\selectA{}
\def\selectB{}
\def\selectC{}
\def\selectD{}
\def\selectE{}
}
%Lệnh đáp số vắn tắt
\newcommand{\shortsol}[1]{}
%Định nghĩa số cột in đáp án
\def\numcol{10}
%Liệt kê danh sách đáp án
\newcommand{\rowans}
{
	\renewenvironment{Solution}[1]
	{\begin{minipage}{\linewidth/\numcol-1.2\fboxsep}
			\parbox[b]{0.45\linewidth}{
				\raggedleft\color{blue}##1.
			}
			\color{violet}
		}
		{\end{minipage}}
}
%Các phương pháp đưa hình vào văn bản
\def\vspaceIM{\vspace{-13pt}}
\def\breakIM{}
\def\numpicinpar{0}
\newdimen\widthimmini
\newdimen\heightimmini
\newdimen\spaceleft
\newbox\imbox
\newcommand{\hspaceIM}[1]{
	\def\hspaceIMEX{\hspace{#1\linewidth}}
	\def\hspaceEXIM{#1\linewidth}
}
\newcommand{\IMleftright}[3]{
	\hfill\par\noindent
	\begin{minipage}[t][][t]{\linewidth-\widthimmini-\fboxsep-#1\linewidth}
		#2
	\end{minipage}
	\hspace{#1\linewidth}
	\begin{minipage}[t][][b]{\widthimmini}\vspaceIM
		#3
	\end{minipage}
	\par\nointerlineskip
}
\newcommand{\immini}[3][0]{
	\setbox\imbox=\vbox{\hbox{#3}}
	\widthimmini=\wd\imbox
	\heightimmini=\ht\imbox
	\spaceleft=\dimexpr\textheight-\pagetotal-2\baselineskip\relax
	\ifdim\heightimmini>\spaceleft
	\breakIM
	\fi
	\IMleftright{#1}{#2}{#3}
}
\newcommand{\impicinpar}[2]{
	\begin{window}[\numpicinpar,r,{
			#2
		}, {}]
		\begin{flushleft}
			#1
		\end{flushleft}
	\end{window}
}
%Hết cách đưa hình vào văn bản
%Dấu chấm, phảy sau mỗi phương án
\def\dotEX{.}
%Tương thích gói picinpar
\def\picinpar{\setlength{\linewidth}{\linewidth}}
\AtBeginEnvironment{window}{\def\picinpar{\setlength{\linewidth}{\linewidth-\picwd-\lwindowsep-2\fboxsep}}}
%Môi trường file
\newenvironment{fileEX}{\filecontents}{\endfilecontents}
\newcommand{\choicew}[1]{\setlength{\widthch}{#1}}
%Ghi đáp án vào file excel
\newwrite\tempfile
%Tùy chọn bảng đáp án khoanh tròn
\newif\ifcircledEX
\let\circledEX\circledEXtrue
\DeclareOption{circle}{
\renewcommand{\rowans}
{
	\renewenvironment{Solution}[1]
	{\begin{minipage}{0.5\linewidth-1.2\fboxsep}
			\parbox[b]{0.4\linewidth}{
			\raggedleft\color{blue}##1.
			}
			\color{violet}
		}
		{\end{minipage}}
}
\circledEXtrue
\AtEndEnvironment{exrd}{
\ifnum\the\value{numTrue}=1
\scantokens{\begin{EXsol}
\circled{\color{blue}A}\ \circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\phantom{A}}
\end{EXsol}}
\immediate\write\tempfile{A}
\fi
\ifnum\the\value{numTrue}=2
\scantokens{\begin{EXsol}
\circled{\phantom{A}}\ \circled{\color{blue}B}\ \circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\phantom{A}}
\end{EXsol}}
\immediate\write\tempfile{B}
\fi
\ifnum\the\value{numTrue}=3
\scantokens{\begin{EXsol}
\circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\color{blue}C}\ \circled{\phantom{A}}\ \circled{\phantom{A}}
\end{EXsol}}
\immediate\write\tempfile{C}
\fi
\ifnum\the\value{numTrue}=4
\scantokens{\begin{EXsol}
\circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\color{blue}D}\ \circled{\phantom{A}}
\end{EXsol}}
\immediate\write\tempfile{D}
\fi
\ifnum\the\value{numTrue}=5
\scantokens{\begin{EXsol}
			\circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\phantom{A}}\ \circled{\color{blue}E}
\end{EXsol}}
\immediate\write\tempfile{D}
\fi
\setcounter{numTrue}{0}
}
}
\newcommand{\twocolEX}[1]{#1}
\DeclareOption{twocol}{
\renewcommand{\immini}[3][0]{
#2
\begin{center}
#3
\end{center}
}
\renewcommand{\impicinpar}[2]{
#1
\begin{center}
#2
\end{center}
}
\renewcommand{\twocolEX}[1]{
\begin{multicols}{2}
\setlength{\linewidth}{\columnwidth}
#1
\end{multicols}
}
}
\ProcessOptions
%Tùy chọn lời giải
\newcommand{\loigiai}[1]{
\renewcommand{\IMleftright}[3]{
	\par\noindent
	\begin{minipage}[t][][t]{\linewidth-\widthimmini-\fboxsep-##1\linewidth}
		##2
	\end{minipage}
	\hspace{##1\linewidth}
	\begin{minipage}[t][][b]{\widthimmini}\vspaceIM
		##3
	\end{minipage}
	\par\nointerlineskip
}
\ifnum\the\value{numTrueSol}=1
\scantokens{
\begin{onlysolution}
\par\noindent
#1
\selectA
\end{onlysolution}}
\fi
\ifnum\the\value{numTrueSol}=2
\scantokens{
\begin{onlysolution}
\par\noindent
#1
\selectB
\end{onlysolution}}
\fi
\ifnum\the\value{numTrueSol}=3
\scantokens{
\begin{onlysolution}
\par\noindent
#1
\selectC
\end{onlysolution}}
\fi
\ifnum\the\value{numTrueSol}=4
\scantokens{
\begin{onlysolution}
\par\noindent
#1
\selectD
\end{onlysolution}}
\fi
\ifnum\the\value{numTrueSol}=5
\scantokens{
\begin{onlysolution}
\par\noindent
#1
\selectE
\end{onlysolution}}
\fi
\ifnum\the\value{numTrueSol}=0
\scantokens{
\begin{onlysolution}
#1
\end{onlysolution}}
\fi
\setcounter{numTrueSol}{0}
}
\def\colorEX{}
\newcounter{numTrue}
\newcounter{numTrueSol}
\def\True{\colorEX\setcounter{numTrue}{\thedapan}\setcounter{numTrueSol}{\thedapan}}
\def\loigiaiEX{\color{blue} Lời giải.}
%Nội dung gói ex_test
\theorempreskipamount0.1\baselineskip
\theorempostskipamount0.2\baselineskip
\newlength\dorongfix
\dorongfix=\linewidth
\newlength\dorong
\dorong=\linewidth
\theoremseparator{.}
\theorembodyfont{\rm}
\Newassociation{EXsol}{Solution}{ans}
\Newassociation{sol}{Solution}{ans_old}
\Newassociation{onlysolution}{SolutionRD}{ans_rd}
\renewcommand{\SolutionRDlabel}[1]{\textbf{Câu #1.}} 
\AtBeginEnvironment{SolutionRD}{
\renewcommand{\IMleftright}[3]{
	\par\noindent
	\begin{minipage}[t][][t]{\linewidth-\widthimmini-\fboxsep-#1\linewidth}
		#2
	\end{minipage}
	\hspace{#1\linewidth}
	\begin{minipage}[t][][b]{\widthimmini}\vspaceIM
		#3
	\end{minipage}
	\par\nointerlineskip
}
}
\newtheorem{ex}{Câu}
\AtBeginEnvironment{ex}{\setcounter{numTrueSol}{0}\def\dotEX{.}}
\AtEndEnvironment{ex}{
\ifnum\the\value{numTrue}=1
\scantokens{\begin{EXsol}A\end{EXsol}}
\fi
\ifnum\the\value{numTrue}=2
\scantokens{\begin{EXsol}B\end{EXsol}}
\fi
\ifnum\the\value{numTrue}=3
\scantokens{\begin{EXsol}C\end{EXsol}}
\fi
\ifnum\the\value{numTrue}=4
\scantokens{\begin{EXsol}D\end{EXsol}}
\fi
\ifnum\the\value{numTrue}=5
\scantokens{\begin{EXsol}E\end{EXsol}}
\fi
\setcounter{numTrue}{0}
}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}
\newcommand*\circEX[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw=blue,inner sep=1pt,fill=yellow!50] (char) {\color{red} #1};}}
\newcommand{\boncot}[4]{
	\picinpar
	\setlength{\dorong}{0.25\linewidth-0.02\dorongfix-\widthalpha-\fboxsep}
	\par\setcounter{dapan}{0}
	\noindent\hspace{0.02\dorongfix}\begindapan
	#1\dotEX
\end{minipage}
\noindent\begindapan
#2\dotEX
\end{minipage}
\noindent\begindapan
#3\dotEX
\end{minipage}
\noindent\begindapan
#4\dotEX
\end{minipage}

}
\newcommand{\haicot}[4]{
\picinpar
\setlength{\dorong}{0.5\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
\par\setcounter{dapan}{0}
\noindent\hspace{0.02\dorongfix}\begindapan
#1\dotEX
\end{minipage}
\noindent\begindapan
#2\dotEX
\end{minipage}
\par\noindent\hspace{0.02\dorongfix}\begindapan
#3\dotEX
\end{minipage}
\noindent\begindapan
#4\dotEX
\end{minipage}

}
\newcommand{\motcot}[4]{
\picinpar
\setlength{\dorong}{\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
\par\setcounter{dapan}{0}
\noindent\hspace{0.02\dorongfix}\begindapan
#1\dotEX\strut
\end{minipage}

\noindent\hspace{0.02\dorongfix}\begindapan
#2\dotEX\strut
\end{minipage}

\noindent\hspace{0.02\dorongfix}\begindapan
#3\dotEX\strut
\end{minipage}

\noindent\hspace{0.02\dorongfix}\begindapan
#4\dotEX\strut
\end{minipage}

}

%%%%%%%Tự động chọn \motcot, \haicot, \boncot
\newlength\widthcha
\newlength\widthchb
\newlength\widthchc
\newlength\widthchd
\newlength\widthche
\newlength\widthch
\newlength\tabmaxwidth
\newlength\fourthtabwidth
\newlength\halftabwidth
\newlength\fifthtabwidth
\newlength\thirdtabwidth
\newcommand{\choice}[4]{%
	\setlength\tabmaxwidth{\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
	\setlength\fourthtabwidth{0.25\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
	\setlength\halftabwidth{0.5\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
	\settowidth\widthcha{#1}
	\ifdim\widthch<\widthcha\relax\setlength{\widthch}{\widthcha}\fi%
	\settowidth\widthchb{#2}%
	\ifdim\widthch<\widthchb\relax\setlength{\widthch}{\widthchb}\fi%
	\settowidth\widthchc{#3}%
	\ifdim\widthch<\widthchc\relax\setlength{\widthch}{\widthchc}\fi%
	\settowidth\widthchd{#4}%
	\ifdim\widthch<\widthchd\relax\setlength{\widthch}{\widthchd}\fi%
	\ifdim\widthch<\fourthtabwidth
	\boncot{#1}{#2}{#3}{#4}
	\else\ifdim\widthch<\halftabwidth
	\haicot{#1}{#2}{#3}{#4}
	\else
	\motcot{#1}{#2}{#3}{#4}
	\fi\fi
}
\newcommand{\choicefix}[4]{%
	\setlength\tabmaxwidth{\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
	\setlength\fourthtabwidth{0.25\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
	\setlength\halftabwidth{0.5\linewidth-0.02\dorongfix-\widthalpha-2\fboxsep}
	\settowidth\widthcha{#1}
	\ifdim\widthch<\widthcha\relax\setlength{\widthch}{\widthcha}\fi%
	\settowidth\widthchb{#2}%
	\ifdim\widthch<\widthchb\relax\setlength{\widthch}{\widthchb}\fi%
	\settowidth\widthchc{#3}%
	\ifdim\widthch<\widthchc\relax\setlength{\widthch}{\widthchc}\fi%
	\settowidth\widthchd{#4}%
	\ifdim\widthch<\widthchd\relax\setlength{\widthch}{\widthchd}\fi%
	\ifdim\widthch<\fourthtabwidth
	\boncot{#1}{#2}{#3}{#4}
	\else\ifdim\widthch<\halftabwidth
	\haicot{#1}{#2}{#3}{#4}
	\else
	\motcot{#1}{#2}{#3}{#4}
	\fi\fi
}
%Trắc nghiệm 5 lựa chọn
\newcommand{\nammot}[5]{
	\picinpar
	\setlength{\dorong}{0.2\linewidth-0.01\dorongfix-\fboxsep}
	\par\setcounter{dapan}{0}
	\noindent\hspace{0.02\dorongfix}\begin{minipage}[t]{\dorong}
		\FalseEX\ #1\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{\dorong}
		\FalseEX\ #2\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{\dorong}
		\FalseEX\ #3\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{\dorong}
		\FalseEX\ #4\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{\dorong}
		\FalseEX\ #5\dotEX
	\end{minipage}
}
\newcommand{\bahai}[5]{
	\picinpar
	\setlength{\dorong}{0.5\linewidth-0.02\dorongfix-\fboxsep}
	\setcounter{dapan}{0}
	\par\noindent\hspace{0.02\dorongfix}\begin{minipage}[t]{0.67\dorong}
		\FalseEX\ #1\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{0.67\dorong}
		\FalseEX\ #2\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{0.67\dorong}
		\FalseEX\ #3\dotEX
	\end{minipage}
	\par\noindent\hspace{0.02\dorongfix}\begin{minipage}[t]{\dorong}
		\FalseEX\ #4\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{\dorong}
		\FalseEX\ #5\dotEX
	\end{minipage}
}

\newcommand{\haiba}[5]{
	\picinpar
	\setlength{\dorong}{0.5\linewidth-0.02\dorongfix-\fboxsep}
	\setcounter{dapan}{0}
	\par\noindent\hspace{0.02\dorongfix}\begin{minipage}[t]{\dorong}
		\FalseEX\ #1\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{\dorong}
		\FalseEX\ #2\dotEX
	\end{minipage}
	\par\noindent\hspace{0.02\dorongfix}\begin{minipage}[t]{0.67\dorong}
		\FalseEX\ #3\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{0.67\dorong}
		\FalseEX\ #4\dotEX
	\end{minipage}
	\noindent\begin{minipage}[t]{0.67\dorong}
		\FalseEX\ #5\dotEX
	\end{minipage}
}
\newcommand{\motnam}[5]{
	\picinpar
	\setlength{\dorong}{\linewidth-0.02\dorongfix-\fboxsep}
	\par\setcounter{dapan}{0}
	\noindent\hspace{0.02\dorongfix}\FalseEX\ \begin{minipage}[t]{\dorong}
		#1\dotEX\strut
	\end{minipage}
	\par\noindent\hspace{0.02\dorongfix}\FalseEX\ \begin{minipage}[t]{\dorong}
		#2\dotEX\strut
	\end{minipage}
	\par\noindent\hspace{0.02\dorongfix}\FalseEX\ \begin{minipage}[t]{\dorong}
		#3\dotEX\strut
	\end{minipage}
	\par\noindent\hspace{0.02\dorongfix}\FalseEX\ \begin{minipage}[t]{\dorong}
		#4\dotEX\strut
	\end{minipage}
	\par\noindent\hspace{0.02\dorongfix}\FalseEX\ \begin{minipage}[t]{\dorong}
		#5\dotEX\strut
	\end{minipage}
}

\newlength\wmothai
\newlength\wmothaiba
\newlength\wmothaibabon
\newlength\wbonnam
\newlength\wbabonnam
\newlength\whaibabonnam
\newcounter{numChoice}
\newcommand{\choicefive}[5]{%
	\setlength\tabmaxwidth{\linewidth-\picwd-\lwindowsep}
	\setlength\fourthtabwidth{0.25\linewidth-0.25\picwd-0.25\lwindowsep}
	\setlength\halftabwidth{0.5\linewidth-0.5\picwd-0.5\lwindowsep}
	\setlength\fifthtabwidth{0.2\linewidth-0.2\picwd-0.2\lwindowsep}
	\setlength\thirdtabwidth{0.33\linewidth-0.33\picwd-0.33\lwindowsep}
	\settowidth\widthcha{AM.#1}
	\ifdim\widthch<\widthcha\relax\setlength{\widthch}{\widthcha}\fi%
	\ifdim\wmothai<\widthcha\relax\setlength{\wmothai}{\widthcha}\fi%
	\ifdim\wmothaiba<\widthcha\relax\setlength{\wmothaiba}{\widthcha}\fi%
	\ifdim\wmothaibabon<\widthcha\relax\setlength{\wmothaibabon}{\widthcha}\fi%
	\settowidth\widthchb{BM.#2}%
	\ifdim\widthch<\widthchb\relax\setlength{\widthch}{\widthchb}\fi%
	\ifdim\wmothai<\widthchb\relax\setlength{\wmothai}{\widthchb}\fi%
	\ifdim\wmothaiba<\widthchb\relax\setlength{\wmothaiba}{\widthchb}\fi%
	\ifdim\wmothaibabon<\widthchb\relax\setlength{\wmothaibabon}{\widthchb}
	\fi%
	\ifdim\whaibabonnam<\widthchb\relax\setlength{\whaibabonnam}{\widthchb}
	\fi%
	\settowidth\widthchc{CM.#3}%
	\ifdim\widthch<\widthchc\relax\setlength{\widthch}{\widthchc}\fi%
	\ifdim\wmothaiba<\widthchc\relax\setlength{\wmothaiba}{\widthchc}\fi%
	\ifdim\wmothaibabon<\widthchc\relax\setlength{\wmothaibabon}{\widthchc}\fi%
	\ifdim\wbabonnam<\widthchc\relax\setlength{\wbabonnam}{\widthchc}\fi%
	\ifdim\whaibabonnam<\widthchc\relax\setlength{\whaibabonnam}{\widthchc}
	\fi%
	\settowidth\widthchd{DM.#4}%
	\ifdim\widthch<\widthchd\relax\setlength{\widthch}{\widthchd}\fi%
	\ifdim\wmothaibabon<\widthchd\relax\setlength{\wmothaibabon}{\widthchd}\fi%
	\ifdim\wbabonnam<\widthchd\relax\setlength{\wbabonnam}{\widthchd}\fi%
	\ifdim\wbonnam<\widthchd\relax\setlength{\wbonnam}{\widthchd}\fi%
	\ifdim\whaibabonnam<\widthchd\relax\setlength{\whaibabonnam}{\widthchd}
	\fi%
	\settowidth\widthche{EM.#5}%
	\ifdim\widthch<\widthche\relax\setlength{\widthch}{\widthche}\fi%
	\ifdim\wbabonnam<\widthche\relax\setlength{\wbabonnam}{\widthche}\fi%
	\ifdim\wbonnam<\widthche\relax\setlength{\wbonnam}{\widthche}\fi%
	\ifdim\whaibabonnam<\widthchd\relax\setlength{\whaibabonnam}{\widthchd}
	\fi%
	%Khởi tạo điều kiện 
	\setcounter{numChoice}{0}
	\ifdim\wmothai<\halftabwidth
	\ifdim\wbabonnam<\thirdtabwidth	
	\setcounter{numChoice}{1}
	\fi\fi
	\ifdim\wmothaiba<\thirdtabwidth	
	\ifdim\wbonnam<\halftabwidth
	\setcounter{numChoice}{2}
	\fi\fi
	\ifdim\widthch<\fifthtabwidth
	\setcounter{numChoice}{3}
	\fi
	%Lựa chọn cách sắp xếp
	\ifnum\the\value{numChoice}=3
	\nammot{#1}{#2}{#3}{#4}{#5}
	\else
	\ifnum\the\value{numChoice}=2
	\bahai{#1}{#2}{#3}{#4}{#5}
	\else
	\ifnum\the\value{numChoice}=1
	\haiba{#1}{#2}{#3}{#4}{#5}
	\else
	\motnam{#1}{#2}{#3}{#4}{#5}
	\fi\fi\fi
}
%HẾT trắc nghiệm 5 lựa chọn
\newtheorem{exrd}{Câu}
\AtBeginEnvironment{exrd}{\setcounter{numTrueSol}{0}\def\dotEX{.}}
\AtEndEnvironment{exrd}{
\ifnum\the\value{numTrue}=1
\scantokens{\begin{EXsol}A\end{EXsol}}
\immediate\write\tempfile{A}
\fi
\ifnum\the\value{numTrue}=2
\scantokens{\begin{EXsol}B\end{EXsol}}
\immediate\write\tempfile{B}
\fi
\ifnum\the\value{numTrue}=3
\scantokens{\begin{EXsol}C\end{EXsol}}
\immediate\write\tempfile{C}
\fi
\ifnum\the\value{numTrue}=4
\scantokens{\begin{EXsol}D\end{EXsol}}
\immediate\write\tempfile{D}
\fi
\ifnum\the\value{numTrue}=5
\scantokens{\begin{EXsol}E\end{EXsol}}
\immediate\write\tempfile{E}
\fi
\setcounter{numTrue}{0}
}
\makeatletter
\def\declarenumlist#1#2#3{%
  \expandafter\edef\csname pgfmath@randomlist@#1\endcsname{#3}%
  \count@\@ne
  \loop
    \expandafter\edef
    \csname pgfmath@randomlist@#1@\the\count@\endcsname
      {\the\count@}
    \ifnum\count@<#3\relax
    \advance\count@\@ne
  \repeat}
\def\prunelist#1{%
  \expandafter\xdef\csname pgfmath@randomlist@#1\endcsname
          {\the\numexpr\csname pgfmath@randomlist@#1\endcsname-1\relax}
  \count@\pgfmath@randomtemp 
  \loop
    \expandafter\global\expandafter\let
    \csname pgfmath@randomlist@#1@\the\count@\expandafter\endcsname
    \csname pgfmath@randomlist@#1@\the\numexpr\count@+1\relax\endcsname
    \ifnum\count@<\csname pgfmath@randomlist@#1\endcsname\relax
      \advance\count@\@ne
  \repeat}
\makeatother

\newcounter{totalquestions}
\RenewEnviron{ex}{}

\newcommand{\bankEX}[2]{%
  \CatchFileDef{\bank}{#1}{}% 
  \setcounter{totalquestions}{0}% 
  \RenewEnviron{ex}{\stepcounter{totalquestions}}%
  \bank%
  \declarenumlist{uniquequestionlist}{1}{\thetotalquestions}%
  \setcounter{totalquestions}{#2}%
  \RenewEnviron{ex}{%
    \stepcounter{ex}%
    \ifnum\value{ex}=\randomquestion 
      \par%
\begin{exrd}
      \BODY% 
\end{exrd}
    \fi
  }%
  \foreach \uNiQueQ in {1,...,#2} {
    \setcounter{ex}{0}
    \pgfmathrandomitem\randomquestion{uniquequestionlist}
    \xdef\randomquestion{\randomquestion}
    \prunelist{uniquequestionlist}
    \bank
  }}
\pgfmathsetseed{\number\pdfrandomseed}
%%%%%%%Tự động chọn \motcot, \haicot, \boncot
      \renewcommand{\choice}[4]{%
       \setlength\tabmaxwidth{\linewidth-\picwd-\lwindowsep}
        \setlength\fourthtabwidth{0.25\linewidth-0.25\picwd-0.25\lwindowsep}
        \setlength\halftabwidth{0.5\linewidth-0.5\picwd-0.5\lwindowsep}
      \settowidth\widthcha{AM.#1}
      \ifdim\widthch<\widthcha\relax\setlength{\widthch}{\widthcha}\fi%
      \settowidth\widthchb{BM.#2}%
      \ifdim\widthch<\widthchb\relax\setlength{\widthch}{\widthchb}\fi%
      \settowidth\widthchc{CM.#3}%
      \ifdim\widthch<\widthchc\relax\setlength{\widthch}{\widthchc}\fi%
      \settowidth\widthchd{DM.#4}%
      \ifdim\widthch<\widthchd\relax\setlength{\widthch}{\widthchd}\fi%
\newcommand{\InitVariables}
{\pgfmathsetmacro{\randomEX}{int(random(1,24))}}
\InitVariables
      \ifdim\widthch<\fourthtabwidth
			\ifnum \randomEX=1
        	\boncot{#1}{#2}{#3}{#4}
			\fi
			\ifnum \randomEX=2
        	\boncot{#2}{#3}{#4}{#1}
			\fi
			\ifnum \randomEX=3
        	\boncot{#3}{#4}{#1}{#2}
			\fi
			\ifnum \randomEX=4
        	\boncot{#4}{#1}{#2}{#3}
			\fi
			\ifnum \randomEX=5
        	\boncot{#1}{#3}{#2}{#4}
			\fi
			\ifnum \randomEX=6
        	\boncot{#4}{#1}{#3}{#2}
			\fi
			\ifnum \randomEX=7
        	\boncot{#2}{#4}{#1}{#3}
			\fi
			\ifnum \randomEX=8
        	\boncot{#3}{#2}{#4}{#1}
			\fi
			\ifnum \randomEX=9
        	\boncot{#1}{#3}{#4}{#2}
			\fi
			\ifnum \randomEX=10
        	\boncot{#2}{#1}{#3}{#4}
			\fi
			\ifnum \randomEX=11
        	\boncot{#4}{#2}{#1}{#3}
			\fi
			\ifnum \randomEX=12
        	\boncot{#3}{#4}{#2}{#1}
			\fi
			\ifnum \randomEX=13
        	\boncot{#1}{#4}{#2}{#3}
			\fi
			\ifnum \randomEX=14
        	\boncot{#3}{#1}{#4}{#2}
			\fi
			\ifnum \randomEX=15
        	\boncot{#2}{#3}{#1}{#4}
			\fi
			\ifnum \randomEX=16
        	\boncot{#4}{#2}{#3}{#1}
			\fi
			\ifnum \randomEX=17
        	\boncot{#1}{#4}{#3}{#2}
			\fi
			\ifnum \randomEX=18
        	\boncot{#2}{#1}{#4}{#3}
			\fi
			\ifnum \randomEX=19
        	\boncot{#3}{#2}{#1}{#4}
			\fi
			\ifnum \randomEX=20
        	\boncot{#4}{#3}{#2}{#1}
			\fi
			\ifnum \randomEX=21
        	\boncot{#1}{#2}{#4}{#3}
			\fi
			\ifnum \randomEX=22
        	\boncot{#3}{#1}{#2}{#4}
			\fi
			\ifnum \randomEX=23
        	\boncot{#4}{#3}{#1}{#2}
			\fi
			\ifnum \randomEX=24
        	\boncot{#2}{#4}{#3}{#1}
			\fi
      \else\ifdim\widthch<\halftabwidth
			\ifnum \randomEX=1
        	\haicot{#1}{#2}{#3}{#4}
			\fi
			\ifnum \randomEX=2
        	\haicot{#2}{#3}{#4}{#1}
			\fi
			\ifnum \randomEX=3
        	\haicot{#3}{#4}{#1}{#2}
			\fi
			\ifnum \randomEX=4
        	\haicot{#4}{#1}{#2}{#3}
			\fi
			\ifnum \randomEX=5
        	\haicot{#1}{#3}{#2}{#4}
			\fi
			\ifnum \randomEX=6
        	\haicot{#4}{#1}{#3}{#2}
			\fi
			\ifnum \randomEX=7
        	\haicot{#2}{#4}{#1}{#3}
			\fi
			\ifnum \randomEX=8
        	\haicot{#3}{#2}{#4}{#1}
			\fi
			\ifnum \randomEX=9
        	\haicot{#1}{#3}{#4}{#2}
			\fi
			\ifnum \randomEX=10
        	\haicot{#2}{#1}{#3}{#4}
			\fi
			\ifnum \randomEX=11
        	\haicot{#4}{#2}{#1}{#3}
			\fi
			\ifnum \randomEX=12
        	\haicot{#3}{#4}{#2}{#1}
			\fi
			\ifnum \randomEX=13
        	\haicot{#1}{#4}{#2}{#3}
			\fi
			\ifnum \randomEX=14
        	\haicot{#3}{#1}{#4}{#2}
			\fi
			\ifnum \randomEX=15
        	\haicot{#2}{#3}{#1}{#4}
			\fi
			\ifnum \randomEX=16
        	\haicot{#4}{#2}{#3}{#1}
			\fi
			\ifnum \randomEX=17
        	\haicot{#1}{#4}{#3}{#2}
			\fi
			\ifnum \randomEX=18
        	\haicot{#2}{#1}{#4}{#3}
			\fi
			\ifnum \randomEX=19
        	\haicot{#3}{#2}{#1}{#4}
			\fi
			\ifnum \randomEX=20
        	\haicot{#4}{#3}{#2}{#1}
			\fi
			\ifnum \randomEX=21
        	\haicot{#1}{#2}{#4}{#3}
			\fi
			\ifnum \randomEX=22
        	\haicot{#3}{#1}{#2}{#4}
			\fi
			\ifnum \randomEX=23
        	\haicot{#4}{#3}{#1}{#2}
			\fi
			\ifnum \randomEX=24
        	\haicot{#2}{#4}{#3}{#1}
			\fi
        \else
			\ifnum \randomEX=1
        	\motcot{#1}{#2}{#3}{#4}
			\fi
			\ifnum \randomEX=2
        	\motcot{#2}{#3}{#4}{#1}
			\fi
			\ifnum \randomEX=3
        	\motcot{#3}{#4}{#1}{#2}
			\fi
			\ifnum \randomEX=4
        	\motcot{#4}{#1}{#2}{#3}
			\fi
			\ifnum \randomEX=5
        	\motcot{#1}{#3}{#2}{#4}
			\fi
			\ifnum \randomEX=6
        	\motcot{#4}{#1}{#3}{#2}
			\fi
			\ifnum \randomEX=7
        	\motcot{#2}{#4}{#1}{#3}
			\fi
			\ifnum \randomEX=8
        	\motcot{#3}{#2}{#4}{#1}
			\fi
			\ifnum \randomEX=9
        	\motcot{#1}{#3}{#4}{#2}
			\fi
			\ifnum \randomEX=10
        	\motcot{#2}{#1}{#3}{#4}
			\fi
			\ifnum \randomEX=11
        	\motcot{#4}{#2}{#1}{#3}
			\fi
			\ifnum \randomEX=12
        	\motcot{#3}{#4}{#2}{#1}
			\fi
			\ifnum \randomEX=13
        	\motcot{#1}{#4}{#2}{#3}
			\fi
			\ifnum \randomEX=14
        	\motcot{#3}{#1}{#4}{#2}
			\fi
			\ifnum \randomEX=15
        	\motcot{#2}{#3}{#1}{#4}
			\fi
			\ifnum \randomEX=16
        	\motcot{#4}{#2}{#3}{#1}
			\fi
			\ifnum \randomEX=17
        	\motcot{#1}{#4}{#3}{#2}
			\fi
			\ifnum \randomEX=18
        	\motcot{#2}{#1}{#4}{#3}
			\fi
			\ifnum \randomEX=19
        	\motcot{#3}{#2}{#1}{#4}
			\fi
			\ifnum \randomEX=20
        	\motcot{#4}{#3}{#2}{#1}
			\fi
			\ifnum \randomEX=21
        	\motcot{#1}{#2}{#4}{#3}
			\fi
			\ifnum \randomEX=22
        	\motcot{#3}{#1}{#2}{#4}
			\fi
			\ifnum \randomEX=23
        	\motcot{#4}{#3}{#1}{#2}
			\fi
			\ifnum \randomEX=24
        	\motcot{#2}{#4}{#3}{#1}
			\fi
      \fi\fi
    }
%
%Tạo ngẫu nhiên 5 phương án
\renewcommand{\choicefive}[5]{%
	\setlength\tabmaxwidth{\linewidth-\picwd-\lwindowsep}
	\setlength\fourthtabwidth{0.25\linewidth-0.25\picwd-0.25\lwindowsep}
	\setlength\halftabwidth{0.5\linewidth-0.5\picwd-0.5\lwindowsep}
	\setlength\fifthtabwidth{0.2\linewidth-0.2\picwd-0.2\lwindowsep}
	\setlength\thirdtabwidth{0.33\linewidth-0.33\picwd-0.33\lwindowsep}
	\settowidth\widthcha{AM.#1}
	\ifdim\widthch<\widthcha\relax\setlength{\widthch}{\widthcha}\fi%
	\ifdim\wmothai<\widthcha\relax\setlength{\wmothai}{\widthcha}\fi%
	\ifdim\wmothaiba<\widthcha\relax\setlength{\wmothaiba}{\widthcha}\fi%
	\ifdim\wmothaibabon<\widthcha\relax\setlength{\wmothaibabon}{\widthcha}\fi%
	\settowidth\widthchb{BM.#2}%
	\ifdim\widthch<\widthchb\relax\setlength{\widthch}{\widthchb}\fi%
	\ifdim\wmothai<\widthchb\relax\setlength{\wmothai}{\widthchb}\fi%
	\ifdim\wmothaiba<\widthchb\relax\setlength{\wmothaiba}{\widthchb}\fi%
	\ifdim\wmothaibabon<\widthchb\relax\setlength{\wmothaibabon}{\widthchb}
	\fi%
	\ifdim\whaibabonnam<\widthchb\relax\setlength{\whaibabonnam}{\widthchb}
	\fi%
	\settowidth\widthchc{CM.#3}%
	\ifdim\widthch<\widthchc\relax\setlength{\widthch}{\widthchc}\fi%
	\ifdim\wmothaiba<\widthchc\relax\setlength{\wmothaiba}{\widthchc}\fi%
	\ifdim\wmothaibabon<\widthchc\relax\setlength{\wmothaibabon}{\widthchc}\fi%
	\ifdim\wbabonnam<\widthchc\relax\setlength{\wbabonnam}{\widthchc}\fi%
	\ifdim\whaibabonnam<\widthchc\relax\setlength{\whaibabonnam}{\widthchc}
	\fi%
	\settowidth\widthchd{DM.#4}%
	\ifdim\widthch<\widthchd\relax\setlength{\widthch}{\widthchd}\fi%
	\ifdim\wmothaibabon<\widthchd\relax\setlength{\wmothaibabon}{\widthchd}\fi%
	\ifdim\wbabonnam<\widthchd\relax\setlength{\wbabonnam}{\widthchd}\fi%
	\ifdim\wbonnam<\widthchd\relax\setlength{\wbonnam}{\widthchd}\fi%
	\ifdim\whaibabonnam<\widthchd\relax\setlength{\whaibabonnam}{\widthchd}
	\fi%
	\settowidth\widthche{EM.#5}%
	\ifdim\widthch<\widthche\relax\setlength{\widthch}{\widthche}\fi%
	\ifdim\wbabonnam<\widthche\relax\setlength{\wbabonnam}{\widthche}\fi%
	\ifdim\wbonnam<\widthche\relax\setlength{\wbonnam}{\widthche}\fi%
	\ifdim\whaibabonnam<\widthchd\relax\setlength{\whaibabonnam}{\widthchd}
	\fi%
	%Khởi tạo điều kiện 
	\setcounter{numChoice}{0}
	\ifdim\wmothai<\halftabwidth
	\ifdim\wbabonnam<\thirdtabwidth	
	\setcounter{numChoice}{1}
	\fi\fi
	\ifdim\wmothaiba<\thirdtabwidth	
	\ifdim\wbonnam<\halftabwidth
	\setcounter{numChoice}{2}
	\fi\fi
	\ifdim\widthch<\fifthtabwidth
	\setcounter{numChoice}{3}
	\fi
	%Lựa chọn cách sắp xếp
\newcommand{\InitVariablesfive}
{\pgfmathsetmacro{\randomEXfive}{int(random(1,120))}}
\InitVariablesfive
	\ifnum\the\value{numChoice}=3
		\ifnum \randomEXfive=1
		\nammot{#5}{#2}{#3}{#4}{#1}
		\fi
		\ifnum \randomEXfive=2
		\nammot{#2}{#3}{#4}{#5}{#1}
		\fi
		\ifnum \randomEXfive=3
		\nammot{#3}{#4}{#5}{#2}{#1}
		\fi
		\ifnum \randomEXfive=4
		\nammot{#4}{#5}{#2}{#3}{#1}
		\fi
		\ifnum \randomEXfive=5
		\nammot{#5}{#3}{#2}{#4}{#1}
		\fi
		\ifnum \randomEXfive=6
		\nammot{#4}{#5}{#3}{#2}{#1}
		\fi
		\ifnum \randomEXfive=7
		\nammot{#2}{#4}{#5}{#3}{#1}
		\fi
		\ifnum \randomEXfive=8
		\nammot{#3}{#2}{#4}{#5}{#1}
		\fi
		\ifnum \randomEXfive=9
		\nammot{#5}{#3}{#4}{#2}{#1}
		\fi
		\ifnum \randomEXfive=10
		\nammot{#2}{#5}{#3}{#4}{#1}
		\fi
		\ifnum \randomEXfive=11
		\nammot{#4}{#2}{#5}{#3}{#1}
		\fi
		\ifnum \randomEXfive=12
		\nammot{#3}{#4}{#2}{#5}{#1}
		\fi
		\ifnum \randomEXfive=13
		\nammot{#5}{#4}{#2}{#3}{#1}
		\fi
		\ifnum \randomEXfive=14
		\nammot{#3}{#5}{#4}{#2}{#1}
		\fi
		\ifnum \randomEXfive=15
		\nammot{#2}{#3}{#5}{#4}{#1}
		\fi
		\ifnum \randomEXfive=16
		\nammot{#4}{#2}{#3}{#5}{#1}
		\fi
		\ifnum \randomEXfive=17
		\nammot{#5}{#4}{#3}{#2}{#1}
		\fi
		\ifnum \randomEXfive=18
		\nammot{#2}{#5}{#4}{#3}{#1}
		\fi
		\ifnum \randomEXfive=19
		\nammot{#3}{#2}{#5}{#4}{#1}
		\fi
		\ifnum \randomEXfive=20
		\nammot{#4}{#3}{#2}{#5}{#1}
		\fi
		\ifnum \randomEXfive=21
		\nammot{#5}{#2}{#4}{#3}{#1}
		\fi
		\ifnum \randomEXfive=22
		\nammot{#3}{#5}{#2}{#4}{#1}
		\fi
		\ifnum \randomEXfive=23
		\nammot{#4}{#3}{#5}{#2}{#1}
		\fi
		\ifnum \randomEXfive=24
		\nammot{#2}{#4}{#3}{#5}{#1}
		\fi
		\ifnum \randomEXfive=25
		\nammot{#1}{#5}{#3}{#4}{#2}
		\fi
		\ifnum \randomEXfive=26
		\nammot{#5}{#3}{#4}{#1}{#2}
		\fi
		\ifnum \randomEXfive=27
		\nammot{#3}{#4}{#1}{#5}{#2}
		\fi
		\ifnum \randomEXfive=28
		\nammot{#4}{#1}{#5}{#3}{#2}
		\fi
		\ifnum \randomEXfive=29
		\nammot{#1}{#3}{#5}{#4}{#2}
		\fi
		\ifnum \randomEXfive=30
		\nammot{#4}{#1}{#3}{#5}{#2}
		\fi
		\ifnum \randomEXfive=31
		\nammot{#5}{#4}{#1}{#3}{#2}
		\fi
		\ifnum \randomEXfive=32
		\nammot{#3}{#5}{#4}{#1}{#2}
		\fi
		\ifnum \randomEXfive=33
		\nammot{#1}{#3}{#4}{#5}{#2}
		\fi
		\ifnum \randomEXfive=34
		\nammot{#5}{#1}{#3}{#4}{#2}
		\fi
		\ifnum \randomEXfive=35
		\nammot{#4}{#5}{#1}{#3}{#2}
		\fi
		\ifnum \randomEXfive=36
		\nammot{#3}{#4}{#5}{#1}{#2}
		\fi
		\ifnum \randomEXfive=37
		\nammot{#1}{#4}{#5}{#3}{#2}
		\fi
		\ifnum \randomEXfive=38
		\nammot{#3}{#1}{#4}{#5}{#2}
		\fi
		\ifnum \randomEXfive=39
		\nammot{#5}{#3}{#1}{#4}{#2}
		\fi
		\ifnum \randomEXfive=40
		\nammot{#4}{#5}{#3}{#1}{#2}
		\fi
		\ifnum \randomEXfive=41
		\nammot{#1}{#4}{#3}{#5}{#2}
		\fi
		\ifnum \randomEXfive=42
		\nammot{#5}{#1}{#4}{#3}{#2}
		\fi
		\ifnum \randomEXfive=43
		\nammot{#3}{#5}{#1}{#4}{#2}
		\fi
		\ifnum \randomEXfive=44
		\nammot{#4}{#3}{#5}{#1}{#2}
		\fi
		\ifnum \randomEXfive=45
		\nammot{#1}{#5}{#4}{#3}{#2}
		\fi
		\ifnum \randomEXfive=46
		\nammot{#3}{#1}{#5}{#4}{#2}
		\fi
		\ifnum \randomEXfive=47
		\nammot{#4}{#3}{#1}{#5}{#2}
		\fi
		\ifnum \randomEXfive=48
		\nammot{#5}{#4}{#3}{#1}{#2}
		\fi
		\ifnum \randomEXfive=49
		\nammot{#1}{#2}{#5}{#4}{#3}
		\fi
		\ifnum \randomEXfive=50
		\nammot{#2}{#5}{#4}{#1}{#3}
		\fi
		\ifnum \randomEXfive=51
		\nammot{#5}{#4}{#1}{#2}{#3}
		\fi
		\ifnum \randomEXfive=52
		\nammot{#4}{#1}{#2}{#5}{#3}
		\fi
		\ifnum \randomEXfive=53
		\nammot{#1}{#5}{#2}{#4}{#3}
		\fi
		\ifnum \randomEXfive=54
		\nammot{#4}{#1}{#5}{#2}{#3}
		\fi
		\ifnum \randomEXfive=55
		\nammot{#2}{#4}{#1}{#5}{#3}
		\fi
		\ifnum \randomEXfive=56
		\nammot{#5}{#2}{#4}{#1}{#3}
		\fi
		\ifnum \randomEXfive=57
		\nammot{#1}{#5}{#4}{#2}{#3}
		\fi
		\ifnum \randomEXfive=58
		\nammot{#2}{#1}{#5}{#4}{#3}
		\fi
		\ifnum \randomEXfive=59
		\nammot{#4}{#2}{#1}{#5}{#3}
		\fi
		\ifnum \randomEXfive=60
		\nammot{#5}{#4}{#2}{#1}{#3}
		\fi
		\ifnum \randomEXfive=61
		\nammot{#1}{#4}{#2}{#5}{#3}
		\fi
		\ifnum \randomEXfive=62
		\nammot{#5}{#1}{#4}{#2}{#3}
		\fi
		\ifnum \randomEXfive=63
		\nammot{#2}{#5}{#1}{#4}{#3}
		\fi
		\ifnum \randomEXfive=64
		\nammot{#4}{#2}{#5}{#1}{#3}
		\fi
		\ifnum \randomEXfive=65
		\nammot{#1}{#4}{#5}{#2}{#3}
		\fi
		\ifnum \randomEXfive=66
		\nammot{#2}{#1}{#4}{#5}{#3}
		\fi
		\ifnum \randomEXfive=67
		\nammot{#5}{#2}{#1}{#4}{#3}
		\fi
		\ifnum \randomEXfive=68
		\nammot{#4}{#5}{#2}{#1}{#3}
		\fi
		\ifnum \randomEXfive=69
		\nammot{#1}{#2}{#4}{#5}{#3}
		\fi
		\ifnum \randomEXfive=70
		\nammot{#5}{#1}{#2}{#4}{#3}
		\fi
		\ifnum \randomEXfive=71
		\nammot{#4}{#5}{#1}{#2}{#3}
		\fi
		\ifnum \randomEXfive=72
		\nammot{#2}{#4}{#5}{#1}{#3}
		\fi
		\ifnum \randomEXfive=74
		\nammot{#1}{#2}{#3}{#5}{#4}
		\fi
		\ifnum \randomEXfive=75
		\nammot{#2}{#3}{#5}{#1}{#4}
		\fi
		\ifnum \randomEXfive=76
		\nammot{#3}{#5}{#1}{#2}{#4}
		\fi
		\ifnum \randomEXfive=77
		\nammot{#5}{#1}{#2}{#3}{#4}
		\fi
		\ifnum \randomEXfive=78
		\nammot{#1}{#3}{#2}{#5}{#4}
		\fi
		\ifnum \randomEXfive=79
		\nammot{#5}{#1}{#3}{#2}{#4}
		\fi
		\ifnum \randomEXfive=80
		\nammot{#2}{#5}{#1}{#3}{#4}
		\fi
		\ifnum \randomEXfive=81
		\nammot{#3}{#2}{#5}{#1}{#4}
		\fi
		\ifnum \randomEXfive=82
		\nammot{#1}{#3}{#5}{#2}{#4}
		\fi
		\ifnum \randomEXfive=83
		\nammot{#2}{#1}{#3}{#5}{#4}
		\fi
		\ifnum \randomEXfive=84
		\nammot{#5}{#2}{#1}{#3}{#4}
		\fi
		\ifnum \randomEXfive=85
		\nammot{#3}{#5}{#2}{#1}{#4}
		\fi
		\ifnum \randomEXfive=86
		\nammot{#1}{#5}{#2}{#3}{#4}
		\fi
		\ifnum \randomEXfive=87
		\nammot{#3}{#1}{#5}{#2}{#4}
		\fi
		\ifnum \randomEXfive=88
		\nammot{#2}{#3}{#1}{#5}{#4}
		\fi
		\ifnum \randomEXfive=89
		\nammot{#5}{#2}{#3}{#1}{#4}
		\fi
		\ifnum \randomEXfive=90
		\nammot{#1}{#5}{#3}{#2}{#4}
		\fi
		\ifnum \randomEXfive=91
		\nammot{#2}{#1}{#5}{#3}{#4}
		\fi
		\ifnum \randomEXfive=92
		\nammot{#3}{#2}{#1}{#5}{#4}
		\fi
		\ifnum \randomEXfive=93
		\nammot{#5}{#3}{#2}{#1}{#4}
		\fi
		\ifnum \randomEXfive=94
		\nammot{#1}{#2}{#5}{#3}{#4}
		\fi
		\ifnum \randomEXfive=95
		\nammot{#3}{#1}{#2}{#5}{#4}
		\fi
		\ifnum \randomEXfive=96
		\nammot{#5}{#3}{#1}{#2}{#4}
		\fi
		\ifnum \randomEXfive=73
		\nammot{#2}{#5}{#3}{#1}{#4}
		\fi
		\ifnum \randomEXfive=97
		\nammot{#1}{#2}{#3}{#4}{#5}
		\fi
		\ifnum \randomEXfive=98
		\nammot{#2}{#3}{#4}{#1}{#5}
		\fi
		\ifnum \randomEXfive=99
		\nammot{#3}{#4}{#1}{#2}{#5}
		\fi
		\ifnum \randomEXfive=100
		\nammot{#4}{#1}{#2}{#3}{#5}
		\fi
		\ifnum \randomEXfive=101
		\nammot{#1}{#3}{#2}{#4}{#5}
		\fi
		\ifnum \randomEXfive=102
		\nammot{#4}{#1}{#3}{#2}{#5}
		\fi
		\ifnum \randomEXfive=103
		\nammot{#2}{#4}{#1}{#3}{#5}
		\fi
		\ifnum \randomEXfive=104
		\nammot{#3}{#2}{#4}{#1}{#5}
		\fi
		\ifnum \randomEXfive=105
		\nammot{#1}{#3}{#4}{#2}{#5}
		\fi
		\ifnum \randomEXfive=106
		\nammot{#2}{#1}{#3}{#4}{#5}
		\fi
		\ifnum \randomEXfive=107
		\nammot{#4}{#2}{#1}{#3}{#5}
		\fi
		\ifnum \randomEXfive=108
		\nammot{#3}{#4}{#2}{#1}{#5}
		\fi
		\ifnum \randomEXfive=109
		\nammot{#1}{#4}{#2}{#3}{#5}
		\fi
		\ifnum \randomEXfive=110
		\nammot{#3}{#1}{#4}{#2}{#5}
		\fi
		\ifnum \randomEXfive=111
		\nammot{#2}{#3}{#1}{#4}{#5}
		\fi
		\ifnum \randomEXfive=112
		\nammot{#4}{#2}{#3}{#1}{#5}
		\fi
		\ifnum \randomEXfive=113
		\nammot{#1}{#4}{#3}{#2}{#5}
		\fi
		\ifnum \randomEXfive=114
		\nammot{#2}{#1}{#4}{#3}{#5}
		\fi
		\ifnum \randomEXfive=115
		\nammot{#3}{#2}{#1}{#4}{#5}
		\fi
		\ifnum \randomEXfive=116
		\nammot{#4}{#3}{#2}{#1}{#5}
		\fi
		\ifnum \randomEXfive=117
		\nammot{#1}{#2}{#4}{#3}{#5}
		\fi
		\ifnum \randomEXfive=118
		\nammot{#3}{#1}{#2}{#4}{#5}
		\fi
		\ifnum \randomEXfive=119
		\nammot{#4}{#3}{#1}{#2}{#5}
		\fi
		\ifnum \randomEXfive=120
		\nammot{#2}{#4}{#3}{#1}{#5}
		\fi
	
	\else
	\ifnum\the\value{numChoice}=2
			\ifnum \randomEXfive=1
        	\haiba{#5}{#2}{#3}{#4}{#1}
			\fi
			\ifnum \randomEXfive=2
        	\haiba{#2}{#3}{#4}{#5}{#1}
			\fi
			\ifnum \randomEXfive=3
        	\haiba{#3}{#4}{#5}{#2}{#1}
			\fi
			\ifnum \randomEXfive=4
        	\haiba{#4}{#5}{#2}{#3}{#1}
			\fi
			\ifnum \randomEXfive=5
        	\haiba{#5}{#3}{#2}{#4}{#1}
			\fi
			\ifnum \randomEXfive=6
        	\haiba{#4}{#5}{#3}{#2}{#1}
			\fi
			\ifnum \randomEXfive=7
        	\haiba{#2}{#4}{#5}{#3}{#1}
			\fi
			\ifnum \randomEXfive=8
        	\haiba{#3}{#2}{#4}{#5}{#1}
			\fi
			\ifnum \randomEXfive=9
        	\haiba{#5}{#3}{#4}{#2}{#1}
			\fi
			\ifnum \randomEXfive=10
        	\haiba{#2}{#5}{#3}{#4}{#1}
			\fi
			\ifnum \randomEXfive=11
        	\haiba{#4}{#2}{#5}{#3}{#1}
			\fi
			\ifnum \randomEXfive=12
        	\haiba{#3}{#4}{#2}{#5}{#1}
			\fi
			\ifnum \randomEXfive=13
        	\haiba{#5}{#4}{#2}{#3}{#1}
			\fi
			\ifnum \randomEXfive=14
        	\haiba{#3}{#5}{#4}{#2}{#1}
			\fi
			\ifnum \randomEXfive=15
        	\haiba{#2}{#3}{#5}{#4}{#1}
			\fi
			\ifnum \randomEXfive=16
        	\haiba{#4}{#2}{#3}{#5}{#1}
			\fi
			\ifnum \randomEXfive=17
        	\haiba{#5}{#4}{#3}{#2}{#1}
			\fi
			\ifnum \randomEXfive=18
        	\haiba{#2}{#5}{#4}{#3}{#1}
			\fi
			\ifnum \randomEXfive=19
        	\haiba{#3}{#2}{#5}{#4}{#1}
			\fi
			\ifnum \randomEXfive=20
        	\haiba{#4}{#3}{#2}{#5}{#1}
			\fi
			\ifnum \randomEXfive=21
        	\haiba{#5}{#2}{#4}{#3}{#1}
			\fi
			\ifnum \randomEXfive=22
        	\haiba{#3}{#5}{#2}{#4}{#1}
			\fi
			\ifnum \randomEXfive=23
        	\haiba{#4}{#3}{#5}{#2}{#1}
			\fi
			\ifnum \randomEXfive=24
        	\haiba{#2}{#4}{#3}{#5}{#1}
			\fi
			\ifnum \randomEXfive=25
        	\haiba{#1}{#5}{#3}{#4}{#2}
			\fi
			\ifnum \randomEXfive=26
        	\haiba{#5}{#3}{#4}{#1}{#2}
			\fi
			\ifnum \randomEXfive=27
        	\haiba{#3}{#4}{#1}{#5}{#2}
			\fi
			\ifnum \randomEXfive=28
        	\haiba{#4}{#1}{#5}{#3}{#2}
			\fi
			\ifnum \randomEXfive=29
        	\haiba{#1}{#3}{#5}{#4}{#2}
			\fi
			\ifnum \randomEXfive=30
        	\haiba{#4}{#1}{#3}{#5}{#2}
			\fi
			\ifnum \randomEXfive=31
        	\haiba{#5}{#4}{#1}{#3}{#2}
			\fi
			\ifnum \randomEXfive=32
        	\haiba{#3}{#5}{#4}{#1}{#2}
			\fi
			\ifnum \randomEXfive=33
        	\haiba{#1}{#3}{#4}{#5}{#2}
			\fi
			\ifnum \randomEXfive=34
        	\haiba{#5}{#1}{#3}{#4}{#2}
			\fi
			\ifnum \randomEXfive=35
        	\haiba{#4}{#5}{#1}{#3}{#2}
			\fi
			\ifnum \randomEXfive=36
        	\haiba{#3}{#4}{#5}{#1}{#2}
			\fi
			\ifnum \randomEXfive=37
        	\haiba{#1}{#4}{#5}{#3}{#2}
			\fi
			\ifnum \randomEXfive=38
        	\haiba{#3}{#1}{#4}{#5}{#2}
			\fi
			\ifnum \randomEXfive=39
        	\haiba{#5}{#3}{#1}{#4}{#2}
			\fi
			\ifnum \randomEXfive=40
        	\haiba{#4}{#5}{#3}{#1}{#2}
			\fi
			\ifnum \randomEXfive=41
        	\haiba{#1}{#4}{#3}{#5}{#2}
			\fi
			\ifnum \randomEXfive=42
        	\haiba{#5}{#1}{#4}{#3}{#2}
			\fi
			\ifnum \randomEXfive=43
        	\haiba{#3}{#5}{#1}{#4}{#2}
			\fi
			\ifnum \randomEXfive=44
        	\haiba{#4}{#3}{#5}{#1}{#2}
			\fi
			\ifnum \randomEXfive=45
        	\haiba{#1}{#5}{#4}{#3}{#2}
			\fi
			\ifnum \randomEXfive=46
        	\haiba{#3}{#1}{#5}{#4}{#2}
			\fi
			\ifnum \randomEXfive=47
        	\haiba{#4}{#3}{#1}{#5}{#2}
			\fi
			\ifnum \randomEXfive=48
        	\haiba{#5}{#4}{#3}{#1}{#2}
			\fi
			\ifnum \randomEXfive=49
        	\haiba{#1}{#2}{#5}{#4}{#3}
			\fi
			\ifnum \randomEXfive=50
        	\haiba{#2}{#5}{#4}{#1}{#3}
			\fi
			\ifnum \randomEXfive=51
        	\haiba{#5}{#4}{#1}{#2}{#3}
			\fi
			\ifnum \randomEXfive=52
        	\haiba{#4}{#1}{#2}{#5}{#3}
			\fi
			\ifnum \randomEXfive=53
        	\haiba{#1}{#5}{#2}{#4}{#3}
			\fi
			\ifnum \randomEXfive=54
        	\haiba{#4}{#1}{#5}{#2}{#3}
			\fi
			\ifnum \randomEXfive=55
        	\haiba{#2}{#4}{#1}{#5}{#3}
			\fi
			\ifnum \randomEXfive=56
        	\haiba{#5}{#2}{#4}{#1}{#3}
			\fi
			\ifnum \randomEXfive=57
        	\haiba{#1}{#5}{#4}{#2}{#3}
			\fi
			\ifnum \randomEXfive=58
        	\haiba{#2}{#1}{#5}{#4}{#3}
			\fi
			\ifnum \randomEXfive=59
        	\haiba{#4}{#2}{#1}{#5}{#3}
			\fi
			\ifnum \randomEXfive=60
        	\haiba{#5}{#4}{#2}{#1}{#3}
			\fi
			\ifnum \randomEXfive=61
        	\haiba{#1}{#4}{#2}{#5}{#3}
			\fi
			\ifnum \randomEXfive=62
        	\haiba{#5}{#1}{#4}{#2}{#3}
			\fi
			\ifnum \randomEXfive=63
        	\haiba{#2}{#5}{#1}{#4}{#3}
			\fi
			\ifnum \randomEXfive=64
        	\haiba{#4}{#2}{#5}{#1}{#3}
			\fi
			\ifnum \randomEXfive=65
        	\haiba{#1}{#4}{#5}{#2}{#3}
			\fi
			\ifnum \randomEXfive=66
        	\haiba{#2}{#1}{#4}{#5}{#3}
			\fi
			\ifnum \randomEXfive=67
        	\haiba{#5}{#2}{#1}{#4}{#3}
			\fi
			\ifnum \randomEXfive=68
        	\haiba{#4}{#5}{#2}{#1}{#3}
			\fi
			\ifnum \randomEXfive=69
        	\haiba{#1}{#2}{#4}{#5}{#3}
			\fi
			\ifnum \randomEXfive=70
        	\haiba{#5}{#1}{#2}{#4}{#3}
			\fi
			\ifnum \randomEXfive=71
        	\haiba{#4}{#5}{#1}{#2}{#3}
			\fi
			\ifnum \randomEXfive=72
        	\haiba{#2}{#4}{#5}{#1}{#3}
			\fi
			\ifnum \randomEXfive=74
        	\haiba{#1}{#2}{#3}{#5}{#4}
			\fi
			\ifnum \randomEXfive=75
        	\haiba{#2}{#3}{#5}{#1}{#4}
			\fi
			\ifnum \randomEXfive=76
        	\haiba{#3}{#5}{#1}{#2}{#4}
			\fi
			\ifnum \randomEXfive=77
        	\haiba{#5}{#1}{#2}{#3}{#4}
			\fi
			\ifnum \randomEXfive=78
        	\haiba{#1}{#3}{#2}{#5}{#4}
			\fi
			\ifnum \randomEXfive=79
        	\haiba{#5}{#1}{#3}{#2}{#4}
			\fi
			\ifnum \randomEXfive=80
        	\haiba{#2}{#5}{#1}{#3}{#4}
			\fi
			\ifnum \randomEXfive=81
        	\haiba{#3}{#2}{#5}{#1}{#4}
			\fi
			\ifnum \randomEXfive=82
        	\haiba{#1}{#3}{#5}{#2}{#4}
			\fi
			\ifnum \randomEXfive=83
        	\haiba{#2}{#1}{#3}{#5}{#4}
			\fi
			\ifnum \randomEXfive=84
        	\haiba{#5}{#2}{#1}{#3}{#4}
			\fi
			\ifnum \randomEXfive=85
        	\haiba{#3}{#5}{#2}{#1}{#4}
			\fi
			\ifnum \randomEXfive=86
        	\haiba{#1}{#5}{#2}{#3}{#4}
			\fi
			\ifnum \randomEXfive=87
        	\haiba{#3}{#1}{#5}{#2}{#4}
			\fi
			\ifnum \randomEXfive=88
        	\haiba{#2}{#3}{#1}{#5}{#4}
			\fi
			\ifnum \randomEXfive=89
        	\haiba{#5}{#2}{#3}{#1}{#4}
			\fi
			\ifnum \randomEXfive=90
        	\haiba{#1}{#5}{#3}{#2}{#4}
			\fi
			\ifnum \randomEXfive=91
        	\haiba{#2}{#1}{#5}{#3}{#4}
			\fi
			\ifnum \randomEXfive=92
        	\haiba{#3}{#2}{#1}{#5}{#4}
			\fi
			\ifnum \randomEXfive=93
        	\haiba{#5}{#3}{#2}{#1}{#4}
			\fi
			\ifnum \randomEXfive=94
        	\haiba{#1}{#2}{#5}{#3}{#4}
			\fi
			\ifnum \randomEXfive=95
        	\haiba{#3}{#1}{#2}{#5}{#4}
			\fi
			\ifnum \randomEXfive=96
        	\haiba{#5}{#3}{#1}{#2}{#4}
			\fi
			\ifnum \randomEXfive=73
        	\haiba{#2}{#5}{#3}{#1}{#4}
			\fi
			\ifnum \randomEXfive=97
        	\haiba{#1}{#2}{#3}{#4}{#5}
			\fi
			\ifnum \randomEXfive=98
        	\haiba{#2}{#3}{#4}{#1}{#5}
			\fi
			\ifnum \randomEXfive=99
        	\haiba{#3}{#4}{#1}{#2}{#5}
			\fi
			\ifnum \randomEXfive=100
        	\haiba{#4}{#1}{#2}{#3}{#5}
			\fi
			\ifnum \randomEXfive=101
        	\haiba{#1}{#3}{#2}{#4}{#5}
			\fi
			\ifnum \randomEXfive=102
        	\haiba{#4}{#1}{#3}{#2}{#5}
			\fi
			\ifnum \randomEXfive=103
        	\haiba{#2}{#4}{#1}{#3}{#5}
			\fi
			\ifnum \randomEXfive=104
        	\haiba{#3}{#2}{#4}{#1}{#5}
			\fi
			\ifnum \randomEXfive=105
        	\haiba{#1}{#3}{#4}{#2}{#5}
			\fi
			\ifnum \randomEXfive=106
        	\haiba{#2}{#1}{#3}{#4}{#5}
			\fi
			\ifnum \randomEXfive=107
        	\haiba{#4}{#2}{#1}{#3}{#5}
			\fi
			\ifnum \randomEXfive=108
        	\haiba{#3}{#4}{#2}{#1}{#5}
			\fi
			\ifnum \randomEXfive=109
        	\haiba{#1}{#4}{#2}{#3}{#5}
			\fi
			\ifnum \randomEXfive=110
        	\haiba{#3}{#1}{#4}{#2}{#5}
			\fi
			\ifnum \randomEXfive=111
        	\haiba{#2}{#3}{#1}{#4}{#5}
			\fi
			\ifnum \randomEXfive=112
        	\haiba{#4}{#2}{#3}{#1}{#5}
			\fi
			\ifnum \randomEXfive=113
        	\haiba{#1}{#4}{#3}{#2}{#5}
			\fi
			\ifnum \randomEXfive=114
        	\haiba{#2}{#1}{#4}{#3}{#5}
			\fi
			\ifnum \randomEXfive=115
        	\haiba{#3}{#2}{#1}{#4}{#5}
			\fi
			\ifnum \randomEXfive=116
        	\haiba{#4}{#3}{#2}{#1}{#5}
			\fi
			\ifnum \randomEXfive=117
        	\haiba{#1}{#2}{#4}{#3}{#5}
			\fi
			\ifnum \randomEXfive=118
        	\haiba{#3}{#1}{#2}{#4}{#5}
			\fi
			\ifnum \randomEXfive=119
        	\haiba{#4}{#3}{#1}{#2}{#5}
			\fi
			\ifnum \randomEXfive=120
        	\haiba{#2}{#4}{#3}{#1}{#5}
			\fi
	\else
	\ifnum\the\value{numChoice}=1
			\ifnum \randomEXfive=1
        	\haiba{#5}{#2}{#3}{#4}{#1}
			\fi
			\ifnum \randomEXfive=2
        	\haiba{#2}{#3}{#4}{#5}{#1}
			\fi
			\ifnum \randomEXfive=3
        	\haiba{#3}{#4}{#5}{#2}{#1}
			\fi
			\ifnum \randomEXfive=4
        	\haiba{#4}{#5}{#2}{#3}{#1}
			\fi
			\ifnum \randomEXfive=5
        	\haiba{#5}{#3}{#2}{#4}{#1}
			\fi
			\ifnum \randomEXfive=6
        	\haiba{#4}{#5}{#3}{#2}{#1}
			\fi
			\ifnum \randomEXfive=7
        	\haiba{#2}{#4}{#5}{#3}{#1}
			\fi
			\ifnum \randomEXfive=8
        	\haiba{#3}{#2}{#4}{#5}{#1}
			\fi
			\ifnum \randomEXfive=9
        	\haiba{#5}{#3}{#4}{#2}{#1}
			\fi
			\ifnum \randomEXfive=10
        	\haiba{#2}{#5}{#3}{#4}{#1}
			\fi
			\ifnum \randomEXfive=11
        	\haiba{#4}{#2}{#5}{#3}{#1}
			\fi
			\ifnum \randomEXfive=12
        	\haiba{#3}{#4}{#2}{#5}{#1}
			\fi
			\ifnum \randomEXfive=13
        	\haiba{#5}{#4}{#2}{#3}{#1}
			\fi
			\ifnum \randomEXfive=14
        	\haiba{#3}{#5}{#4}{#2}{#1}
			\fi
			\ifnum \randomEXfive=15
        	\haiba{#2}{#3}{#5}{#4}{#1}
			\fi
			\ifnum \randomEXfive=16
        	\haiba{#4}{#2}{#3}{#5}{#1}
			\fi
			\ifnum \randomEXfive=17
        	\haiba{#5}{#4}{#3}{#2}{#1}
			\fi
			\ifnum \randomEXfive=18
        	\haiba{#2}{#5}{#4}{#3}{#1}
			\fi
			\ifnum \randomEXfive=19
        	\haiba{#3}{#2}{#5}{#4}{#1}
			\fi
			\ifnum \randomEXfive=20
        	\haiba{#4}{#3}{#2}{#5}{#1}
			\fi
			\ifnum \randomEXfive=21
        	\haiba{#5}{#2}{#4}{#3}{#1}
			\fi
			\ifnum \randomEXfive=22
        	\haiba{#3}{#5}{#2}{#4}{#1}
			\fi
			\ifnum \randomEXfive=23
        	\haiba{#4}{#3}{#5}{#2}{#1}
			\fi
			\ifnum \randomEXfive=24
        	\haiba{#2}{#4}{#3}{#5}{#1}
			\fi
			\ifnum \randomEXfive=25
        	\haiba{#1}{#5}{#3}{#4}{#2}
			\fi
			\ifnum \randomEXfive=26
        	\haiba{#5}{#3}{#4}{#1}{#2}
			\fi
			\ifnum \randomEXfive=27
        	\haiba{#3}{#4}{#1}{#5}{#2}
			\fi
			\ifnum \randomEXfive=28
        	\haiba{#4}{#1}{#5}{#3}{#2}
			\fi
			\ifnum \randomEXfive=29
        	\haiba{#1}{#3}{#5}{#4}{#2}
			\fi
			\ifnum \randomEXfive=30
        	\haiba{#4}{#1}{#3}{#5}{#2}
			\fi
			\ifnum \randomEXfive=31
        	\haiba{#5}{#4}{#1}{#3}{#2}
			\fi
			\ifnum \randomEXfive=32
        	\haiba{#3}{#5}{#4}{#1}{#2}
			\fi
			\ifnum \randomEXfive=33
        	\haiba{#1}{#3}{#4}{#5}{#2}
			\fi
			\ifnum \randomEXfive=34
        	\haiba{#5}{#1}{#3}{#4}{#2}
			\fi
			\ifnum \randomEXfive=35
        	\haiba{#4}{#5}{#1}{#3}{#2}
			\fi
			\ifnum \randomEXfive=36
        	\haiba{#3}{#4}{#5}{#1}{#2}
			\fi
			\ifnum \randomEXfive=37
        	\haiba{#1}{#4}{#5}{#3}{#2}
			\fi
			\ifnum \randomEXfive=38
        	\haiba{#3}{#1}{#4}{#5}{#2}
			\fi
			\ifnum \randomEXfive=39
        	\haiba{#5}{#3}{#1}{#4}{#2}
			\fi
			\ifnum \randomEXfive=40
        	\haiba{#4}{#5}{#3}{#1}{#2}
			\fi
			\ifnum \randomEXfive=41
        	\haiba{#1}{#4}{#3}{#5}{#2}
			\fi
			\ifnum \randomEXfive=42
        	\haiba{#5}{#1}{#4}{#3}{#2}
			\fi
			\ifnum \randomEXfive=43
        	\haiba{#3}{#5}{#1}{#4}{#2}
			\fi
			\ifnum \randomEXfive=44
        	\haiba{#4}{#3}{#5}{#1}{#2}
			\fi
			\ifnum \randomEXfive=45
        	\haiba{#1}{#5}{#4}{#3}{#2}
			\fi
			\ifnum \randomEXfive=46
        	\haiba{#3}{#1}{#5}{#4}{#2}
			\fi
			\ifnum \randomEXfive=47
        	\haiba{#4}{#3}{#1}{#5}{#2}
			\fi
			\ifnum \randomEXfive=48
        	\haiba{#5}{#4}{#3}{#1}{#2}
			\fi
			\ifnum \randomEXfive=49
        	\haiba{#1}{#2}{#5}{#4}{#3}
			\fi
			\ifnum \randomEXfive=50
        	\haiba{#2}{#5}{#4}{#1}{#3}
			\fi
			\ifnum \randomEXfive=51
        	\haiba{#5}{#4}{#1}{#2}{#3}
			\fi
			\ifnum \randomEXfive=52
        	\haiba{#4}{#1}{#2}{#5}{#3}
			\fi
			\ifnum \randomEXfive=53
        	\haiba{#1}{#5}{#2}{#4}{#3}
			\fi
			\ifnum \randomEXfive=54
        	\haiba{#4}{#1}{#5}{#2}{#3}
			\fi
			\ifnum \randomEXfive=55
        	\haiba{#2}{#4}{#1}{#5}{#3}
			\fi
			\ifnum \randomEXfive=56
        	\haiba{#5}{#2}{#4}{#1}{#3}
			\fi
			\ifnum \randomEXfive=57
        	\haiba{#1}{#5}{#4}{#2}{#3}
			\fi
			\ifnum \randomEXfive=58
        	\haiba{#2}{#1}{#5}{#4}{#3}
			\fi
			\ifnum \randomEXfive=59
        	\haiba{#4}{#2}{#1}{#5}{#3}
			\fi
			\ifnum \randomEXfive=60
        	\haiba{#5}{#4}{#2}{#1}{#3}
			\fi
			\ifnum \randomEXfive=61
        	\haiba{#1}{#4}{#2}{#5}{#3}
			\fi
			\ifnum \randomEXfive=62
        	\haiba{#5}{#1}{#4}{#2}{#3}
			\fi
			\ifnum \randomEXfive=63
        	\haiba{#2}{#5}{#1}{#4}{#3}
			\fi
			\ifnum \randomEXfive=64
        	\haiba{#4}{#2}{#5}{#1}{#3}
			\fi
			\ifnum \randomEXfive=65
        	\haiba{#1}{#4}{#5}{#2}{#3}
			\fi
			\ifnum \randomEXfive=66
        	\haiba{#2}{#1}{#4}{#5}{#3}
			\fi
			\ifnum \randomEXfive=67
        	\haiba{#5}{#2}{#1}{#4}{#3}
			\fi
			\ifnum \randomEXfive=68
        	\haiba{#4}{#5}{#2}{#1}{#3}
			\fi
			\ifnum \randomEXfive=69
        	\haiba{#1}{#2}{#4}{#5}{#3}
			\fi
			\ifnum \randomEXfive=70
        	\haiba{#5}{#1}{#2}{#4}{#3}
			\fi
			\ifnum \randomEXfive=71
        	\haiba{#4}{#5}{#1}{#2}{#3}
			\fi
			\ifnum \randomEXfive=72
        	\haiba{#2}{#4}{#5}{#1}{#3}
			\fi
			\ifnum \randomEXfive=74
        	\haiba{#1}{#2}{#3}{#5}{#4}
			\fi
			\ifnum \randomEXfive=75
        	\haiba{#2}{#3}{#5}{#1}{#4}
			\fi
			\ifnum \randomEXfive=76
        	\haiba{#3}{#5}{#1}{#2}{#4}
			\fi
			\ifnum \randomEXfive=77
        	\haiba{#5}{#1}{#2}{#3}{#4}
			\fi
			\ifnum \randomEXfive=78
        	\haiba{#1}{#3}{#2}{#5}{#4}
			\fi
			\ifnum \randomEXfive=79
        	\haiba{#5}{#1}{#3}{#2}{#4}
			\fi
			\ifnum \randomEXfive=80
        	\haiba{#2}{#5}{#1}{#3}{#4}
			\fi
			\ifnum \randomEXfive=81
        	\haiba{#3}{#2}{#5}{#1}{#4}
			\fi
			\ifnum \randomEXfive=82
        	\haiba{#1}{#3}{#5}{#2}{#4}
			\fi
			\ifnum \randomEXfive=83
        	\haiba{#2}{#1}{#3}{#5}{#4}
			\fi
			\ifnum \randomEXfive=84
        	\haiba{#5}{#2}{#1}{#3}{#4}
			\fi
			\ifnum \randomEXfive=85
        	\haiba{#3}{#5}{#2}{#1}{#4}
			\fi
			\ifnum \randomEXfive=86
        	\haiba{#1}{#5}{#2}{#3}{#4}
			\fi
			\ifnum \randomEXfive=87
        	\haiba{#3}{#1}{#5}{#2}{#4}
			\fi
			\ifnum \randomEXfive=88
        	\haiba{#2}{#3}{#1}{#5}{#4}
			\fi
			\ifnum \randomEXfive=89
        	\haiba{#5}{#2}{#3}{#1}{#4}
			\fi
			\ifnum \randomEXfive=90
        	\haiba{#1}{#5}{#3}{#2}{#4}
			\fi
			\ifnum \randomEXfive=91
        	\haiba{#2}{#1}{#5}{#3}{#4}
			\fi
			\ifnum \randomEXfive=92
        	\haiba{#3}{#2}{#1}{#5}{#4}
			\fi
			\ifnum \randomEXfive=93
        	\haiba{#5}{#3}{#2}{#1}{#4}
			\fi
			\ifnum \randomEXfive=94
        	\haiba{#1}{#2}{#5}{#3}{#4}
			\fi
			\ifnum \randomEXfive=95
        	\haiba{#3}{#1}{#2}{#5}{#4}
			\fi
			\ifnum \randomEXfive=96
        	\haiba{#5}{#3}{#1}{#2}{#4}
			\fi
			\ifnum \randomEXfive=73
        	\haiba{#2}{#5}{#3}{#1}{#4}
			\fi
			\ifnum \randomEXfive=97
        	\haiba{#1}{#2}{#3}{#4}{#5}
			\fi
			\ifnum \randomEXfive=98
        	\haiba{#2}{#3}{#4}{#1}{#5}
			\fi
			\ifnum \randomEXfive=99
        	\haiba{#3}{#4}{#1}{#2}{#5}
			\fi
			\ifnum \randomEXfive=100
        	\haiba{#4}{#1}{#2}{#3}{#5}
			\fi
			\ifnum \randomEXfive=101
        	\haiba{#1}{#3}{#2}{#4}{#5}
			\fi
			\ifnum \randomEXfive=102
        	\haiba{#4}{#1}{#3}{#2}{#5}
			\fi
			\ifnum \randomEXfive=103
        	\haiba{#2}{#4}{#1}{#3}{#5}
			\fi
			\ifnum \randomEXfive=104
        	\haiba{#3}{#2}{#4}{#1}{#5}
			\fi
			\ifnum \randomEXfive=105
        	\haiba{#1}{#3}{#4}{#2}{#5}
			\fi
			\ifnum \randomEXfive=106
        	\haiba{#2}{#1}{#3}{#4}{#5}
			\fi
			\ifnum \randomEXfive=107
        	\haiba{#4}{#2}{#1}{#3}{#5}
			\fi
			\ifnum \randomEXfive=108
        	\haiba{#3}{#4}{#2}{#1}{#5}
			\fi
			\ifnum \randomEXfive=109
        	\haiba{#1}{#4}{#2}{#3}{#5}
			\fi
			\ifnum \randomEXfive=110
        	\haiba{#3}{#1}{#4}{#2}{#5}
			\fi
			\ifnum \randomEXfive=111
        	\haiba{#2}{#3}{#1}{#4}{#5}
			\fi
			\ifnum \randomEXfive=112
        	\haiba{#4}{#2}{#3}{#1}{#5}
			\fi
			\ifnum \randomEXfive=113
        	\haiba{#1}{#4}{#3}{#2}{#5}
			\fi
			\ifnum \randomEXfive=114
        	\haiba{#2}{#1}{#4}{#3}{#5}
			\fi
			\ifnum \randomEXfive=115
        	\haiba{#3}{#2}{#1}{#4}{#5}
			\fi
			\ifnum \randomEXfive=116
        	\haiba{#4}{#3}{#2}{#1}{#5}
			\fi
			\ifnum \randomEXfive=117
        	\haiba{#1}{#2}{#4}{#3}{#5}
			\fi
			\ifnum \randomEXfive=118
        	\haiba{#3}{#1}{#2}{#4}{#5}
			\fi
			\ifnum \randomEXfive=119
        	\haiba{#4}{#3}{#1}{#2}{#5}
			\fi
			\ifnum \randomEXfive=120
        	\haiba{#2}{#4}{#3}{#1}{#5}
			\fi
	\else
			\ifnum \randomEXfive=1
        	\motnam{#5}{#2}{#3}{#4}{#1}
			\fi
			\ifnum \randomEXfive=2
        	\motnam{#2}{#3}{#4}{#5}{#1}
			\fi
			\ifnum \randomEXfive=3
        	\motnam{#3}{#4}{#5}{#2}{#1}
			\fi
			\ifnum \randomEXfive=4
        	\motnam{#4}{#5}{#2}{#3}{#1}
			\fi
			\ifnum \randomEXfive=5
        	\motnam{#5}{#3}{#2}{#4}{#1}
			\fi
			\ifnum \randomEXfive=6
        	\motnam{#4}{#5}{#3}{#2}{#1}
			\fi
			\ifnum \randomEXfive=7
        	\motnam{#2}{#4}{#5}{#3}{#1}
			\fi
			\ifnum \randomEXfive=8
        	\motnam{#3}{#2}{#4}{#5}{#1}
			\fi
			\ifnum \randomEXfive=9
        	\motnam{#5}{#3}{#4}{#2}{#1}
			\fi
			\ifnum \randomEXfive=10
        	\motnam{#2}{#5}{#3}{#4}{#1}
			\fi
			\ifnum \randomEXfive=11
        	\motnam{#4}{#2}{#5}{#3}{#1}
			\fi
			\ifnum \randomEXfive=12
        	\motnam{#3}{#4}{#2}{#5}{#1}
			\fi
			\ifnum \randomEXfive=13
        	\motnam{#5}{#4}{#2}{#3}{#1}
			\fi
			\ifnum \randomEXfive=14
        	\motnam{#3}{#5}{#4}{#2}{#1}
			\fi
			\ifnum \randomEXfive=15
        	\motnam{#2}{#3}{#5}{#4}{#1}
			\fi
			\ifnum \randomEXfive=16
        	\motnam{#4}{#2}{#3}{#5}{#1}
			\fi
			\ifnum \randomEXfive=17
        	\motnam{#5}{#4}{#3}{#2}{#1}
			\fi
			\ifnum \randomEXfive=18
        	\motnam{#2}{#5}{#4}{#3}{#1}
			\fi
			\ifnum \randomEXfive=19
        	\motnam{#3}{#2}{#5}{#4}{#1}
			\fi
			\ifnum \randomEXfive=20
        	\motnam{#4}{#3}{#2}{#5}{#1}
			\fi
			\ifnum \randomEXfive=21
        	\motnam{#5}{#2}{#4}{#3}{#1}
			\fi
			\ifnum \randomEXfive=22
        	\motnam{#3}{#5}{#2}{#4}{#1}
			\fi
			\ifnum \randomEXfive=23
        	\motnam{#4}{#3}{#5}{#2}{#1}
			\fi
			\ifnum \randomEXfive=24
        	\motnam{#2}{#4}{#3}{#5}{#1}
			\fi
			\ifnum \randomEXfive=25
        	\motnam{#1}{#5}{#3}{#4}{#2}
			\fi
			\ifnum \randomEXfive=26
        	\motnam{#5}{#3}{#4}{#1}{#2}
			\fi
			\ifnum \randomEXfive=27
        	\motnam{#3}{#4}{#1}{#5}{#2}
			\fi
			\ifnum \randomEXfive=28
        	\motnam{#4}{#1}{#5}{#3}{#2}
			\fi
			\ifnum \randomEXfive=29
        	\motnam{#1}{#3}{#5}{#4}{#2}
			\fi
			\ifnum \randomEXfive=30
        	\motnam{#4}{#1}{#3}{#5}{#2}
			\fi
			\ifnum \randomEXfive=31
        	\motnam{#5}{#4}{#1}{#3}{#2}
			\fi
			\ifnum \randomEXfive=32
        	\motnam{#3}{#5}{#4}{#1}{#2}
			\fi
			\ifnum \randomEXfive=33
        	\motnam{#1}{#3}{#4}{#5}{#2}
			\fi
			\ifnum \randomEXfive=34
        	\motnam{#5}{#1}{#3}{#4}{#2}
			\fi
			\ifnum \randomEXfive=35
        	\motnam{#4}{#5}{#1}{#3}{#2}
			\fi
			\ifnum \randomEXfive=36
        	\motnam{#3}{#4}{#5}{#1}{#2}
			\fi
			\ifnum \randomEXfive=37
        	\motnam{#1}{#4}{#5}{#3}{#2}
			\fi
			\ifnum \randomEXfive=38
        	\motnam{#3}{#1}{#4}{#5}{#2}
			\fi
			\ifnum \randomEXfive=39
        	\motnam{#5}{#3}{#1}{#4}{#2}
			\fi
			\ifnum \randomEXfive=40
        	\motnam{#4}{#5}{#3}{#1}{#2}
			\fi
			\ifnum \randomEXfive=41
        	\motnam{#1}{#4}{#3}{#5}{#2}
			\fi
			\ifnum \randomEXfive=42
        	\motnam{#5}{#1}{#4}{#3}{#2}
			\fi
			\ifnum \randomEXfive=43
        	\motnam{#3}{#5}{#1}{#4}{#2}
			\fi
			\ifnum \randomEXfive=44
        	\motnam{#4}{#3}{#5}{#1}{#2}
			\fi
			\ifnum \randomEXfive=45
        	\motnam{#1}{#5}{#4}{#3}{#2}
			\fi
			\ifnum \randomEXfive=46
        	\motnam{#3}{#1}{#5}{#4}{#2}
			\fi
			\ifnum \randomEXfive=47
        	\motnam{#4}{#3}{#1}{#5}{#2}
			\fi
			\ifnum \randomEXfive=48
        	\motnam{#5}{#4}{#3}{#1}{#2}
			\fi
			\ifnum \randomEXfive=49
        	\motnam{#1}{#2}{#5}{#4}{#3}
			\fi
			\ifnum \randomEXfive=50
        	\motnam{#2}{#5}{#4}{#1}{#3}
			\fi
			\ifnum \randomEXfive=51
        	\motnam{#5}{#4}{#1}{#2}{#3}
			\fi
			\ifnum \randomEXfive=52
        	\motnam{#4}{#1}{#2}{#5}{#3}
			\fi
			\ifnum \randomEXfive=53
        	\motnam{#1}{#5}{#2}{#4}{#3}
			\fi
			\ifnum \randomEXfive=54
        	\motnam{#4}{#1}{#5}{#2}{#3}
			\fi
			\ifnum \randomEXfive=55
        	\motnam{#2}{#4}{#1}{#5}{#3}
			\fi
			\ifnum \randomEXfive=56
        	\motnam{#5}{#2}{#4}{#1}{#3}
			\fi
			\ifnum \randomEXfive=57
        	\motnam{#1}{#5}{#4}{#2}{#3}
			\fi
			\ifnum \randomEXfive=58
        	\motnam{#2}{#1}{#5}{#4}{#3}
			\fi
			\ifnum \randomEXfive=59
        	\motnam{#4}{#2}{#1}{#5}{#3}
			\fi
			\ifnum \randomEXfive=60
        	\motnam{#5}{#4}{#2}{#1}{#3}
			\fi
			\ifnum \randomEXfive=61
        	\motnam{#1}{#4}{#2}{#5}{#3}
			\fi
			\ifnum \randomEXfive=62
        	\motnam{#5}{#1}{#4}{#2}{#3}
			\fi
			\ifnum \randomEXfive=63
        	\motnam{#2}{#5}{#1}{#4}{#3}
			\fi
			\ifnum \randomEXfive=64
        	\motnam{#4}{#2}{#5}{#1}{#3}
			\fi
			\ifnum \randomEXfive=65
        	\motnam{#1}{#4}{#5}{#2}{#3}
			\fi
			\ifnum \randomEXfive=66
        	\motnam{#2}{#1}{#4}{#5}{#3}
			\fi
			\ifnum \randomEXfive=67
        	\motnam{#5}{#2}{#1}{#4}{#3}
			\fi
			\ifnum \randomEXfive=68
        	\motnam{#4}{#5}{#2}{#1}{#3}
			\fi
			\ifnum \randomEXfive=69
        	\motnam{#1}{#2}{#4}{#5}{#3}
			\fi
			\ifnum \randomEXfive=70
        	\motnam{#5}{#1}{#2}{#4}{#3}
			\fi
			\ifnum \randomEXfive=71
        	\motnam{#4}{#5}{#1}{#2}{#3}
			\fi
			\ifnum \randomEXfive=72
        	\motnam{#2}{#4}{#5}{#1}{#3}
			\fi
			\ifnum \randomEXfive=74
        	\motnam{#1}{#2}{#3}{#5}{#4}
			\fi
			\ifnum \randomEXfive=75
        	\motnam{#2}{#3}{#5}{#1}{#4}
			\fi
			\ifnum \randomEXfive=76
        	\motnam{#3}{#5}{#1}{#2}{#4}
			\fi
			\ifnum \randomEXfive=77
        	\motnam{#5}{#1}{#2}{#3}{#4}
			\fi
			\ifnum \randomEXfive=78
        	\motnam{#1}{#3}{#2}{#5}{#4}
			\fi
			\ifnum \randomEXfive=79
        	\motnam{#5}{#1}{#3}{#2}{#4}
			\fi
			\ifnum \randomEXfive=80
        	\motnam{#2}{#5}{#1}{#3}{#4}
			\fi
			\ifnum \randomEXfive=81
        	\motnam{#3}{#2}{#5}{#1}{#4}
			\fi
			\ifnum \randomEXfive=82
        	\motnam{#1}{#3}{#5}{#2}{#4}
			\fi
			\ifnum \randomEXfive=83
        	\motnam{#2}{#1}{#3}{#5}{#4}
			\fi
			\ifnum \randomEXfive=84
        	\motnam{#5}{#2}{#1}{#3}{#4}
			\fi
			\ifnum \randomEXfive=85
        	\motnam{#3}{#5}{#2}{#1}{#4}
			\fi
			\ifnum \randomEXfive=86
        	\motnam{#1}{#5}{#2}{#3}{#4}
			\fi
			\ifnum \randomEXfive=87
        	\motnam{#3}{#1}{#5}{#2}{#4}
			\fi
			\ifnum \randomEXfive=88
        	\motnam{#2}{#3}{#1}{#5}{#4}
			\fi
			\ifnum \randomEXfive=89
        	\motnam{#5}{#2}{#3}{#1}{#4}
			\fi
			\ifnum \randomEXfive=90
        	\motnam{#1}{#5}{#3}{#2}{#4}
			\fi
			\ifnum \randomEXfive=91
        	\motnam{#2}{#1}{#5}{#3}{#4}
			\fi
			\ifnum \randomEXfive=92
        	\motnam{#3}{#2}{#1}{#5}{#4}
			\fi
			\ifnum \randomEXfive=93
        	\motnam{#5}{#3}{#2}{#1}{#4}
			\fi
			\ifnum \randomEXfive=94
        	\motnam{#1}{#2}{#5}{#3}{#4}
			\fi
			\ifnum \randomEXfive=95
        	\motnam{#3}{#1}{#2}{#5}{#4}
			\fi
			\ifnum \randomEXfive=96
        	\motnam{#5}{#3}{#1}{#2}{#4}
			\fi
			\ifnum \randomEXfive=73
        	\motnam{#2}{#5}{#3}{#1}{#4}
			\fi
			\ifnum \randomEXfive=97
        	\motnam{#1}{#2}{#3}{#4}{#5}
			\fi
			\ifnum \randomEXfive=98
        	\motnam{#2}{#3}{#4}{#1}{#5}
			\fi
			\ifnum \randomEXfive=99
        	\motnam{#3}{#4}{#1}{#2}{#5}
			\fi
			\ifnum \randomEXfive=100
        	\motnam{#4}{#1}{#2}{#3}{#5}
			\fi
			\ifnum \randomEXfive=101
        	\motnam{#1}{#3}{#2}{#4}{#5}
			\fi
			\ifnum \randomEXfive=102
        	\motnam{#4}{#1}{#3}{#2}{#5}
			\fi
			\ifnum \randomEXfive=103
        	\motnam{#2}{#4}{#1}{#3}{#5}
			\fi
			\ifnum \randomEXfive=104
        	\motnam{#3}{#2}{#4}{#1}{#5}
			\fi
			\ifnum \randomEXfive=105
        	\motnam{#1}{#3}{#4}{#2}{#5}
			\fi
			\ifnum \randomEXfive=106
        	\motnam{#2}{#1}{#3}{#4}{#5}
			\fi
			\ifnum \randomEXfive=107
        	\motnam{#4}{#2}{#1}{#3}{#5}
			\fi
			\ifnum \randomEXfive=108
        	\motnam{#3}{#4}{#2}{#1}{#5}
			\fi
			\ifnum \randomEXfive=109
        	\motnam{#1}{#4}{#2}{#3}{#5}
			\fi
			\ifnum \randomEXfive=110
        	\motnam{#3}{#1}{#4}{#2}{#5}
			\fi
			\ifnum \randomEXfive=111
        	\motnam{#2}{#3}{#1}{#4}{#5}
			\fi
			\ifnum \randomEXfive=112
        	\motnam{#4}{#2}{#3}{#1}{#5}
			\fi
			\ifnum \randomEXfive=113
        	\motnam{#1}{#4}{#3}{#2}{#5}
			\fi
			\ifnum \randomEXfive=114
        	\motnam{#2}{#1}{#4}{#3}{#5}
			\fi
			\ifnum \randomEXfive=115
        	\motnam{#3}{#2}{#1}{#4}{#5}
			\fi
			\ifnum \randomEXfive=116
        	\motnam{#4}{#3}{#2}{#1}{#5}
			\fi
			\ifnum \randomEXfive=117
        	\motnam{#1}{#2}{#4}{#3}{#5}
			\fi
			\ifnum \randomEXfive=118
        	\motnam{#3}{#1}{#2}{#4}{#5}
			\fi
			\ifnum \randomEXfive=119
        	\motnam{#4}{#3}{#1}{#2}{#5}
			\fi
			\ifnum \randomEXfive=120
        	\motnam{#2}{#4}{#3}{#1}{#5}
			\fi
	\fi\fi\fi
}
%Tiêu đề ex_test_rd
\def\testname{
\begin{center}
\textbf{ĐỀ THI MẪU}
\end{center}
\rightline{
\setlength\fboxrule{2pt} 
\setlength\fboxsep{5pt} 
\fbox{\textbf{Mã đề thi\ \x}}
}
}
%Hết testname
%Tiêu đề đáp án
\def\testsol{
\begin{center}
\LARGE \textbf{ĐÁP ÁN}
\end{center}
}
%Hết tiêu đề đáp án
%List file
\def\listfile{
\bankEX{onefile.tex}{50}
}
%randombank
\newcommand{\randombank}[1]{
\foreach \x in {#1} {%Danh sách mã đề
\newpage
\pagestyle{fancy}
\fancyhead[L]{\empty}
\fancyhead[R]{\empty}
\fancyhead[C]{\empty}
\fancyfoot[C]{\empty}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.4pt}
\fancyfoot[R]{Trang \thepage/\pageref{\x} Mã đề\ \x}
\setcounter{page}{1}
\setcounter{exrd}{0}
\testname
\immediate\openout\tempfile=ans/dapan\x.xls
\Opensolutionfile{ans_rd}[ans/ansrd\x]
\Opensolutionfile{ans}[ans/ans\x]
\twocolEX{
\listfile
}
\Closesolutionfile{ans}
\Closesolutionfile{ans_rd}
\immediate\closeout\tempfile
\centerline{-\ -\ -\ -\ -\ -\ -\ -\ -\ -\ HẾT-\ -\ -\ -\ -\ -\ -\ -\ -\ -}
\label{\x}
\newpage
}
}
\newcommand{\showansfull}[1]
{
\newpage
\foreach \x in {#1} {
\begin{center}
\textbf{ĐÁP CHI TIẾT MÃ ĐỀ \x}
\end{center}
\input{ans/ansrd\x}
}
}
\newcommand{\showans}[1]
{
\newpage
\pagestyle{fancy}
\fancyhead[L]{\empty}
\fancyhead[R]{\empty}
\fancyhead[C]{\empty}
\fancyfoot[R]{\empty}
\fancyfoot[L]{\empty}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyfoot[C]{\thepage}
\setcounter{page}{1}
\testsol
\begin{center}
\textbf{BẢNG ĐÁP ÁN CÁC MÃ ĐỀ}
\end{center}
\foreach \x in {#1} {
\rightline{
\setlength\fboxrule{2pt} 
\setlength\fboxsep{5pt} 
\fbox{\textbf{Mã đề thi\ \x}}
}
\begin{flushleft}
\input{ans/ans\x}
\end{flushleft}
}
}
% Biểu diễn khoảng, đoạn trên trục số
\usetikzlibrary{decorations.pathreplacing,decorations.markings,patterns}
\def\colorInterval{black}
\def\skipInterval{0.4cm}
\newcommand{\Interval}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (#2,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (#4,0); 
        \draw[color=\colorInterval] decorate[decoration={ticks,amplitude=3pt,segment length=1mm}] {(a)--(b)};
}
\newcommand{\IntervalR}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (#2,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (#4,0); 
        \draw decorate[decoration={markings,mark=% actually add a mark
      between positions 0 and 1 step 1mm
      with
      {
\draw[color=\colorInterval] (-3pt,-3pt) -- (3pt,3pt);
      }}] {(a)--(b)};
}
\newcommand{\IntervalL}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (#2,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (#4,0); 
        \draw decorate[decoration={
		markings,
		mark=between positions 0 and 1 step 1mm
      	with
      	{
		\draw[color=\colorInterval] (-3pt,3pt) -- (3pt,-3pt);
      	}
		}
		] {(a)--(b)};
}
\newcommand{\IntervalLF}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (#2,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (#4,0); 
   		\fill[pattern=north west lines,pattern color=\colorInterval](#2,-3pt)rectangle(#4,3pt);
}
\newcommand{\IntervalRF}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (#2,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (#4,0); 
   		\fill[pattern=north east lines,pattern color=\colorInterval](#2,-3pt)rectangle(#4,3pt);
}
\def\pre{0}
\def\next{2}
\newcommand{\IntervalLR}[2]{
\def\pre{#1}
\def\next{#2}
}
\newcommand{\IntervalG}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (\pre,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (\next,0); 
       \draw[color=\colorInterval] decorate[decoration={ticks,amplitude=3pt,segment length=1mm}] {(a)--(b)};
}
\newcommand{\IntervalGL}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (\pre,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (\next,0); 
        \draw decorate[decoration={markings,mark=% actually add a mark
      between positions 0 and 1 step 1mm
      with
      {
\draw[color=\colorInterval] (-3pt,3pt) -- (3pt,-3pt);
      }}] {(a)--(b)};
}
\newcommand{\IntervalGR}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (\pre,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (\next,0); 
        \draw decorate[decoration={markings,mark=% actually add a mark
      between positions 0 and 1 step 1mm
      with
      {
\draw[color=\colorInterval] (-3pt,-3pt) -- (3pt,3pt);
      }}] {(a)--(b)};
}

\newcommand{\IntervalGLF}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (\pre,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (\next,0); 
        \fill[pattern=north west lines,pattern color=\colorInterval](\pre,-3pt)rectangle(\next,3pt);
}
\newcommand{\IntervalGRF}[4]{%
        \coordinate [label={center:$#1$},label=below:$\rule{0pt}{\skipInterval}#2$] (a) at (\pre,0); 
        \coordinate [label={center:$#3$},label=below:$\rule{0pt}{\skipInterval}#4$] (b) at (\next,0); 
        \fill[pattern=north east lines,pattern color=\colorInterval](\pre,-3pt)rectangle(\next,3pt);
}
%Định nghĩa fill dots
\newcommand{\dotlineEX}[1]{
	\def\numlinedot{#1}
	\par
	\foreach \dotline in{1,...,\numlinedot}
	{
		\noindent\dotfill
		\par
	}
}
%Đường tròn LG
\usetikzlibrary{plotmarks}
\newcommand{\trucLG}{
\draw[->] (0,-1.3) -- (0,1.3) node[left] {$\sin$};
\draw[->] (-1.3,0) -- (1.3,0) node[below] {$\cos$};
\draw (0,0) circle (1cm);
}
\newcommand{\pointLG}[4]
{
\foreach \i in {0,...,#2}
{
 \draw[color=#4]
      plot[mark=#3] coordinates {({#1+\i*360/#2}:1)};
}
}
\rowans
% Môi trường liệt kê dàn theo nhiều dòng khác nhau
\def\listEXenumi{\alph{enumi})}
\newlength{\indentlistEX}
\newenvironment{listEX}[1][]
{%
\renewcommand\theenumi{\listEXenumi}%
\setlength\topsep{0pt}
\hfill
\flushleft
\ifstrempty{#1}%
  {%
\settowidth{\indentlistEX}{\space\theenumi\space\space\,}
\leftskip=\dimexpr\indentlistEX+10pt\relax
\rightskip=0pt plus 0cm
\vspace*{-\baselineskip}
\def\item{\hfil\egroup\penalty50
\refstepcounter{enumi}%
\par
\leavevmode\bgroup\space\hspace*{-\indentlistEX}\theenumi\space} %
  }
  {%
\ifthenelse{#1=1}{
\settowidth{\indentlistEX}{\space\theenumi\space\space\,}
\leftskip=\dimexpr\indentlistEX+10pt\relax
\rightskip=0pt plus 0cm
\vspace*{-\baselineskip}
\def\item{\hfil\egroup\penalty50
\refstepcounter{enumi}%
\par
\leavevmode\bgroup\space\hspace*{-\indentlistEX}\theenumi\space} %
}{
\dimen0 \linewidth
\divide\dimen0 by #1\relax
\advance\dimen0 0pt\relax
\def\item{\hfil\egroup\penalty50
\refstepcounter{enumi}%
\leavevmode\hbox to \dimen0 \bgroup\space\hspace*{10pt}\theenumi\space}%
  }}
\leavevmode\bgroup\hskip 0pt plus -1fill
}
{%
\setcounter{enumi}{0}%
\hfil\egroup\endflushleft
}
%Lệnh enumEX
\newenvironment{enumEX}[2][a)]
 {  
\ifthenelse{#2=1}{
\enumerate[\hspace*{14pt}#1]
\def\eenumEX{\endenumerate}
}{
\NumTabs{#2}
\setlength\topsep{0pt}
\flushleft
\inparaenum[#1]
\let\latexitem\item
\def\item{\def\item{\tab\hspace*{14pt}\latexitem}\hspace*{14pt}\latexitem}
\def\eenumEX{\endinparaenum}
}
} 
{
\setcounter{enumi}{0}%
\eenumEX\endflushleft
}
%% End of file `ex_test_rd.sty'.
